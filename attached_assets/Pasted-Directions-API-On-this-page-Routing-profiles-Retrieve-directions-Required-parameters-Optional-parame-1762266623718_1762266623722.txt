Directions API
On this page
Routing profiles
Retrieve directions
Required parameters
Optional parameters
Optional parameters for the mapbox/walking profile
Optional parameters for the mapbox/driving profile
Optional parameters for the mapbox/driving-traffic profile
Example requests: Retrieve directions
Supported libraries: Retrieve directions
Response: Retrieve directions
Example response: Retrieve directions
Use HTTP POST to retrieve directions
Electric Vehicle Routing
Parameters for Electric Vehicle Routing
Charging station data
Supported geographies for EV Routing
Example EV route request
Example EV Alternative route response with EV charging stops
Charging waypoint metadata
Waypoint object
Example waypoint object
Time Zone Information
Route object
Example route object
Route leg object
Example route leg object
Route step object
Example route step object
Step maneuver object
Maneuver types
Example step maneuver object
Lane object
Example lane object
Voice instruction object
Example voice instruction object
Banner instruction object
Abbreviation examples
Example banner instruction object
Incident object
Instructions languages
Notification object
Available violations (notifications.type=violation)
Available alerts (notifications.type=alert)
Directions API errors
Directions API restrictions and limits
Directions API pricing
Directions API version
This documentation is for v5 of the Directions API. For information about the earlier version, see the v4 documentation or view the changelog.

The Mapbox Directions API will show you how to get where you're going. With the Directions API, you can:

Calculate optimal driving, walking, and cycling routes using traffic- and incident-aware routing
Produce turn-by-turn instructions
Produce routes with up to 25 coordinates for the driving, driving-traffic, walking, and cycling profiles
Calculate routes for electric vehicles to reach destinations with optimal charging stops as well as battery prediction
PLAYGROUND
Directions API playground
Retrieve directions between waypoints and see the results on a map.

TUTORIAL
Directions API tutorials
To see all tutorials related to the Directions API, use the Products filter on our Tutorials page.

Routing profiles
The Directions API supports 4 different routing profiles:

Profile	Description
mapbox/driving-traffic	For automotive routing. This profile factors in current and historic traffic conditions to avoid slowdowns. Traffic information is available for the supported geographies listed in our Traffic Data page. Requests using this profile accept up to 25 coordinates.
mapbox/driving	For automotive routing. This profile shows the fastest routes by preferring high-speed roads like highways. Requests using this profile accept up to 25 coordinates.
mapbox/walking	For pedestrian and hiking routing. This profile shows the optimal path by using sidewalks and trails. Requests using this profile accept up to 25 coordinates.
mapbox/cycling	For bicycle routing. This profile shows routes that are short and safer for cyclists by avoiding highways and preferring streets with bike lanes. Requests using this profile accept up to 25 coordinates.
Retrieve directions
get
https://api.mapbox.com/directions/v5/{profile}/{coordinates}
Required parameters
Retrieve directions between waypoints. Directions requests must specify at least two waypoints as starting and ending points.

Required parameters	Type	Description
profile	string	The routing profile to use. Possible values are mapbox/driving-traffic, mapbox/driving, mapbox/walking, or mapbox/cycling.
coordinates	number	A semicolon-separated list of between two and 25 {longitude},{latitude} coordinate pairs to visit in order.
Optional parameters
You can further refine the results from this endpoint with the following optional parameters:

Optional parameters	Type	Description
alternatives	boolean	Whether to try to return alternative routes (true) or not (false, default). An alternative route is a route that is significantly different from the fastest route, but still close in time. Such a route does not exist in all circumstances. Up to two alternatives may be returned. This is available for mapbox/driving-traffic, mapbox/driving, mapbox/cycling and mapbox/walking.
annotations	string	Return additional metadata along the route. You can include several annotations as a comma-separated list. Must be used in conjunction with overview=full.
Possible values	Description
distance	The distance between each pair of coordinates, in meters.
duration	The duration between each pair of coordinates, in seconds.
speed	The speed between each pair of coordinates, in meters per second.
congestion	The level of congestion between each entry in the array of coordinate pairs in the route leg. This annotation is only available for the mapbox/driving-traffic profile.
congestion_numeric	The numeric level of congestion between each entry in the array of coordinate pairs in the route leg. This annotation is available only for the mapbox/driving-traffic profile.
maxspeed BETA	The maximum speed limit between the coordinates of a segment. This annotation is only available for the mapbox/driving and mapbox/driving-traffic profiles.
closure	An array of closure objects describing live-traffic related closures that occur along the route. This annotation is only available for the mapbox/driving-traffic profile.
state_of_charge BETA	The battery's current state of charge as a percentage of the maximum capacity. The value can be negative, signifying a charge deficit. Positive values show the battery's charge level.
See the route leg object for more details on what is included with annotations.
avoid_maneuver_radius	number	Add a radius around the starting point in which the API will avoid returning any significant maneuvers. Possible values are in the range from 1 to 1000 meters. Use this option when the vehicle is traveling at a significant speed to avoid dangerous maneuvers when re-routing. If a route is not found using the specified value, it will be ignored. Note that if a large radius is used, the API may ignore an important turn and return a long straight path before the first maneuver. The avoid_maneuver_radius parameter cannot be used with the arrive_by=<time> or depart_at=<time> options, since these modes are used for reference requests, not for real-time routing. But you can use the depart_at=now option. This is available for mapbox/driving-traffic and mapbox/driving.
bearings	integer	Influences the direction in which a route starts from a waypoint. Used to filter the road segment the waypoint will be placed on by direction. This is useful for making sure the new routes of rerouted vehicles continue traveling in their current direction. A request that does this would provide bearing and radius values for the first waypoint and leave the remaining values empty. Takes two comma-separated values per waypoint: an angle clockwise from true north between 0 and 360, and the range of degrees by which the angle can deviate (recommended value is 45Â° or 90Â°), formatted as {angle, degrees}. If provided, the list of bearings must be the same length as the list of coordinates. But, you can skip a coordinate and show its position in the list with the ; separator.
layers	integer	Influences the layer of road from which a route starts from a waypoint. Used to filter the road segment the waypoint will be placed on, in Z-order. This is useful to avoid ambiguity in the case of multi-level roads (for example, a tunnel under a road). Takes a single signed integer per waypoint. If provided, the list of layers must be the same length as the list of coordinates. But, you can skip a coordinate and show its position in the list with the ; separator. Corresponds to the layer field in Mapbox Streets v8. Note that if a matching layer is not found, the API will choose a suitable layer according to other provided parameters.
continue_straight	boolean	Sets the allowed direction of travel when departing intermediate waypoints. If true, the route will continue in the same direction of travel. If false, the route may continue in the opposite direction of travel. Defaults to true for mapbox/driving and mapbox/driving-traffic, and false for mapbox/walking and mapbox/cycling.
exclude	string	Exclude certain road types and custom locations from routing. Default is to not exclude anything from the list below. You can specify multiple values as a comma-separated list. The following exclude values are available:
Possible values	Description
motorway	Exclude highways or motorways. Available in mapbox/driving and mapbox/driving-traffic profiles.
toll	Exclude roads with tolls. Available in mapbox/driving and mapbox/driving-traffic profiles.
ferry	Exclude ferry rides across waterways. Available in mapbox/driving, mapbox/driving-traffic, mapbox/cycling and mapbox/walking profiles.
unpaved	Exclude dirt roads or track. Available in mapbox/driving and mapbox/driving-traffic profiles.
cash_only_tolls	Exclude roads with tolls that accept only cash. Available in mapbox/driving, mapbox/driving-traffic, mapbox/walking and mapbox/cycling profiles.
point(longitude latitude) BETA	Exclude custom locations such as dangerous entry/exit points, bridges, tunnels, low quality roads and cross border roads. Coordinate specified in WKT format will be snapped to the nearest road and the snapped coordinate will be excluded from routing. You can specify multiple coordinates with a comma-separated list. For example point(lon1 lat1), point(lon2 lat2). Note that at most 50 points are allowed per API request. Available in mapbox/driving and mapbox/driving-traffic profiles.
country_border BETA	Exclude crossing of any controlled country border. Note that borders within the Schengen Area will not be excluded. Available in mapbox/driving and mapbox/driving-traffic profiles.
state_border BETA	Exclude crossing of any state border. Available in mapbox/driving and mapbox/driving-traffic profiles.
tunnel BETA	Exclude roads with tunnels. Available in mapbox/driving and mapbox/driving-traffic profiles.
geometries	string	The format of the returned geometry. Allowed values are: geojson (as LineString), polyline (default, a polyline with a precision of five decimal places), polyline6 (a polyline with a precision of six decimal places).
include	string	Include certain additional road types for routing. The default is to not include these road types. You can specify multiple values as a comma-separated list. The following include values are available:
Possible values	Description
hov2	A road type that requires a minimum of two vehicle occupants. Available in mapbox/driving and mapbox/driving-traffic profiles.
hov3	A road type that requires a minimum of three vehicle occupants. Available in mapbox/driving and mapbox/driving-traffic profiles.
hot	A high occupancy toll road that is tolled if your vehicle doesn't meet the minimum occupant requirement. Available in mapbox/driving and mapbox/driving-traffic profiles.
overview	string	Displays the requested type of overview geometry. Can be full (the most detailed geometry available), simplified (default, a simplified version of the full geometry), or false (no overview geometry).
radiuses	number or string	The maximum distance a coordinate can be moved to snap to the road network, in meters. There must be as many radiuses as there are coordinates in the request, each separated by ;. Values can be any number greater than 0 or the string unlimited. A NoSegment error is returned if no routable road is located within the radius.
approaches	string	A semicolon-separated list indicating the side of the road from which to approach waypoints in a requested route. Accepts unrestricted (default, route can arrive at the waypoint from either side of the road) or curb (route will arrive at the waypoint on the driving_side of the region). If provided, the number of approaches must be the same as the number of waypoints. But, you can skip a coordinate and show its position in the list with the ; separator. Since the first value will not be evaluated, begin the list with a semicolon. If the waypoint is within 1 meter of the road, this parameter is ignored.
steps	boolean	Whether to return steps and turn-by-turn instructions (true) or not (false, default).

Setting steps to true will make the following guidance-related parameters available: banner_instructions, language, roundabout_exits, voice_instructions, voice_units, waypoint_names, waypoint_targets, and waypoints.
banner_instructions	boolean	Whether to return banner objects associated with the route steps (true) or not (false, default). Must be used in conjunction with steps=true.
language	string	The language of returned turn-by-turn text instructions. See supported languages. The default is en (English). Must be used in conjunction with steps=true.
roundabout_exits	boolean	Whether to emit instructions at roundabout exits (true) or not (false, default). Without this parameter, roundabout maneuvers are returned as a single instruction that includes both entering and exiting the roundabout. With roundabout_exits=true, this maneuver becomes two instructions, one for entering the roundabout and one for exiting it. Must be used in conjunction with steps=true.
voice_instructions	boolean	Whether to return SSML marked-up text for voice guidance along the route (true) or not (false, default). Must be used in conjunction with steps=true.
voice_units	string	Specify which type of units to return in the text for voice instructions. Can be imperial (default), british_imperial or metric. Must be used in conjunction with steps=true and voice_instructions=true.
waypoints	integer	A semicolon-separated list indicating which input coordinates should be treated as waypoints. Waypoints form the beginning and end of each leg in the returned route, and when the steps=true parameter is used, correspond to the depart and arrive steps. If a list of waypoints is not provided, all coordinates are treated as waypoints. Each item in the list must be the zero-based index of an input coordinate, and the list must include 0 (the index of the first coordinate) and the index of the last coordinate. The waypoints parameter can be used to guide the path of the route without introducing additional legs and arrive/depart instructions. Must be used in conjunction with steps=true.
waypoints_per_route	boolean	If true, the waypoints array is returned within the route object, else its returned at the root of the response body. Defaults to false if unspecified. Available in mapbox/driving, mapbox/driving-traffic and mapbox/walking profiles.
Setting waypoints_per_route to true is necessary when asking for an EV-optimized route with alternatives, since each alternative route may produce separate sets of waypoints (charging stations).
waypoint_names	string	A semicolon-separated list of custom names for entries in the list of coordinates, used for the arrival instruction in banners and voice instructions. Values can be any string, and the total number of all characters cannot exceed 500. If provided, the list of waypoint_names must be the same length as the list of waypoints, but you can skip a waypoint coordinate and show its position in the list with the ; separator. The first value in the list corresponds to the route origin, not the first destination. To leave the origin unnamed, begin the list with a semicolon. Must be used in conjunction with steps=true.
waypoint_targets	number	A semicolon-separated list of coordinate pairs used to specify drop-off locations that are distinct from the locations specified in coordinates. If this parameter is provided, the Directions API will compute the side of the street, left or right, for each target based on the waypoint_targets and the driving direction. The maneuver.modifier, banner and voice instructions will be updated with the computed side of street. The number of waypoint_targets must be the same as the number of waypoints, but you can skip a waypoint coordinate and show its position in the list with the ; separator. Since the first value will not be evaluated, begin the list with a semicolon. Must be used in conjunction with steps=true.
notifications	string	Returns notification metadata associated with the route leg of the route object. Notifications allow the exposure of warnings or safety messages within your application, or important insights about your route. Available in mapbox/driving and mapbox/driving-traffic profiles.
Possible values	Description
all	Include all notification metadata.
none	Do not provide notifications in route metadata.
The default is all. See the notification object for more details on what is included with notifications.
Optional parameters for the mapbox/walking profile
Optional v5/mapbox/walking parameters	Type	Description
walking_speed	number	The walking speed, in meters per second, with a minimum of 0.14 m/s (or 0.5 km/h) and a maximum of 6.94 m/s (or 25.0 km/h). Defaults to 1.42 m/s (5.1 km/h).
walkway_bias	number	A scale from -1 to 1, where -1 biases the route against walkways and 1 biases the route toward walkways. The default is 0, which is neutral.
Unrecognized options in the query string result in an InvalidInput error.

Optional parameters for the mapbox/driving profile
Optional v5/mapbox/driving parameters	Type	Description
alley_bias	number	A scale from -1 to 1, where -1 biases the route against alleys and 1 biases the route toward alleys. The default is 0, which is neutral.
arrive_by	string	The desired arrival time, formatted in one of three ISO 8601 formats: YYYY-MM-DDThh:mm:ssZ, YYYY-MM-DDThh:mmssÂ±hh:mm, or YYYY-MM-DDThh:mm. In the last format, the timezone is calculated from the route destination. The travel time, returned in duration, is a prediction for travel time based on historical travel data. The route is calculated in a time-dependent manner. For example, a trip that takes two hours will consider changing historic traffic conditions across the two-hour window. The route takes timed turn restrictions and conditional access restrictions into account based on the requested arrival time.
depart_at	string	The departure time, formatted in one of three ISO 8601 formats: YYYY-MM-DDThh:mm:ssZ, YYYY-MM-DDThh:mmssÂ±hh:mm, or YYYY-MM-DDThh:mm. In the last format, the timezone is calculated from the route origin. The travel time, returned in duration, is a prediction for travel time based on historical travel data. The route is calculated in a time-dependent manner. For example, a trip that takes two hours will consider changing historic traffic conditions across the two-hour window, instead of only at the specified depart_at time. The route takes timed turn restrictions and conditional access restrictions into account based on the requested departure time.
max_height	number	The max vehicle height, in meters. If this parameter is provided, the Directions API will compute a route that includes only roads with a height limit greater than or equal to the max vehicle height. max_height must be between 0 and 10 meters. The default value is 1.6 meters. Coverage for road height restriction may vary by region.
max_width	number	The max vehicle width, in meters. If this parameter is provided, the Directions API will compute a route that includes only roads with a width limit greater than or equal to the max vehicle width. max_width must be between 0 and 10 meters. The default value is 1.9 meters. Coverage for road width restriction may vary by region.
max_weight	number	The max vehicle weight, in metric tons (1000 kg). If this parameter is provided, the Directions API will compute a route that includes only roads with a weight limit greater than or equal to the max vehicle weight. max_weight must be between 0 and 100 metric tons. The default value is 2.5 metric tons. Coverage for road weight restriction may vary by region.
Optional parameters for the mapbox/driving-traffic profile
Optional v5/mapbox/driving-traffic parameters	Type	Description
depart_at	string	The departure time, formatted in one of three ISO 8601 formats: YYYY-MM-DDThh:mm:ssZ, YYYY-MM-DDThh:mmssÂ±hh:mm, or YYYY-MM-DDThh:mm. In the last format, the timezone is calculated from the route origin. The travel time, returned in duration, is a prediction for travel time based on historical travel data and live traffic. Live traffic is gently mixed with historical data when the value for depart_at is close to current time. The route takes timed turn restrictions and conditional access restrictions into account based on the requested arrival time.
snapping_include_closures	boolean	A semicolon-separated list of boolean values affecting snapping of coordinate locations to road segments. If true, road segments closed due to live-traffic closures will be considered for snapping. If false, they will not be considered for snapping. If provided, the number of snapping_include_closures must be the same as the number of coordinates. But, you can skip a coordinate and show its position in the list with the ; separator. If unspecified, this parameter defaults to false.
snapping_include_static_closures	boolean	A semicolon-separated list of boolean values affecting snapping of coordinate locations to road segments. If true, road segments statically closed, that is long-term, will be considered for snapping (for example, road under construction). If false, they will not be considered for snapping. If provided, the number of snapping_include_static_closures must be the same as the number of coordinates. But, you can skip a coordinate and show its position in the list with the ; separator. If unspecified, this parameter defaults to false.
max_height	number	The max vehicle height, in meters. If this parameter is provided, the Directions API will compute a route that includes only roads with a height limit greater than or equal to the max vehicle height. max_height must be between 0 and 10 meters. The default value is 1.6 meters. Coverage for road height restriction may vary by region.
max_width	number	The max vehicle width, in meters. If this parameter is provided, the Directions API will compute a route that includes only roads with a width limit greater than or equal to the max vehicle width. max_width must be between 0 and 10 meters. The default value is 1.9 meters. Coverage for road width restriction may vary by region.
max_weight	number	The max vehicle weight, in metric tons (1000 kg). If this parameter is provided, the Directions API will compute a route that includes only roads with a weight limit greater than or equal to the max vehicle weight. max_weight must be between 0 and 100 metric tons. The default value is 2.5 metric tons. Coverage for road weight restriction may vary by region.
Example requests: Retrieve directions
# Request directions with no additional options

curl "https://api.mapbox.com/directions/v5/mapbox/cycling/-122.42,37.78;-77.03,38.91?access_token=YOUR_MAPBOX_ACCESS_TOKEN"

# Request to access speed limit information using the maxspeed annotation
curl "https://api.mapbox.com/directions/v5/mapbox/driving/-122.39636,37.79129;-122.39732,37.79283;-122.39606,37.79349?annotations=maxspeed&overview=full&geometries=geojson&access_token=YOUR_MAPBOX_ACCESS_TOKEN"

# Request directions with radiuses and a polyline6 response through multiple waypoints

curl "https://api.mapbox.com/directions/v5/mapbox/driving/13.43,52.51;13.42,52.5;13.41,52.5?radiuses=40;;100&geometries=polyline6&access_token=YOUR_MAPBOX_ACCESS_TOKEN"

# Specify bearings and radiuses

curl "https://api.mapbox.com/directions/v5/mapbox/driving/13.43,52.51;13.42,52.5;13.43,52.5?bearings=60,45;;45,45&radiuses=100;100;100&access_token=YOUR_MAPBOX_ACCESS_TOKEN"

# Assign layers to waypoints, to handle ambiguities in the case of multi-level roads

curl "https://api.mapbox.com/directions/v5/mapbox/driving/13.43,52.51;13.42,52.5;13.43,52.5?layers=-1;;3&access_token=YOUR_MAPBOX_ACCESS_TOKEN"

# Request a route that approaches the destination on the curb of the driving side

curl "https://api.mapbox.com/directions/v5/mapbox/driving/13.43,52.51;13.43,52.5?approaches=unrestricted;curb&access_token=YOUR_MAPBOX_ACCESS_TOKEN"

# Request directions with voice and banner instructions specifying waypoint_names

curl "https://api.mapbox.com/directions/v5/mapbox/cycling/-122.42,37.78;-77.03,38.91?steps=true&voice_instructions=true&banner_instructions=true&voice_units=imperial&waypoint_names=Home;Work&access_token=YOUR_MAPBOX_ACCESS_TOKEN"

# Specify waypoints

curl "https://api.mapbox.com/directions/v5/mapbox/driving/13.43,52.51;13.42,52.5;13.43,52.5?waypoints=0;2&access_token=YOUR_MAPBOX_ACCESS_TOKEN"

# Specify a departure time

curl "https://api.mapbox.com/directions/v5/mapbox/driving/-122.396112,37.791399;-122.433904,37.757812?access_token=YOUR_MAPBOX_ACCESS_TOKEN&depart_at=2019-05-02T15:00"
Supported libraries: Retrieve directions
Mapbox wrapper libraries help you integrate Mapbox APIs into your existing application. The following SDKs support this endpoint:

Mapbox Directions for Swift
Mapbox Java SDK
Mapbox JavaScript SDK
Mapbox Ruby SDK
See the SDK documentation for details and examples of how to use the relevant methods to query this endpoint.

Response: Retrieve directions
The response to a Directions API request is a JSON object that contains the following properties:

Property	Type	Description
code	string	A code indicating the state of the response. This is a different code than the HTTP status code. On normal valid responses, the value will be Ok. For other responses, see the Directions API errors table.
waypoints LEGACY	array	An array of waypoint objects. Each waypoint is an input coordinate snapped to the road and path network. The waypoints appear in the array in the order of the input coordinates.
ðŸ“Œ Deprecation Notice
The location of the waypoints property at the root of the response is now deprecated. You can continue to use this and it will work as-is. It remains the default structure (waypoints_per_route=false). We have added a waypoints_per_route=true parameter to request the new waypoints response moving forward. This is necessary when asking for an EV-optimized route with alternatives. See the new waypoints_per_route parameter in the optional parameters and the new waypoints per route object waypoints in the route object.
routes	array	An array of route objects ordered by descending recommendation rank. The response object may contain at most two routes.
uuid	string	A unique identifier, you can use to reference the response for successfully built route(s). Combination of uuid and the index in routes array uniquely identifies the route.
Example response: Retrieve directions
NEW waypoints_per_route=true
{
  "routes": [
    {
      "geometry": "mnn_Ick}pAfBiF`CzA",
      "waypoints": [ // A waypoint array specific to this route
        { // A regular, user-submitted waypoint (the origin).
          "name": "KÃ¶penicker StraÃŸe",
          "location": [ 13.426579, 52.508068 ]
        },
        { // A regular, user-submitted waypoint (the destination).
          "name": "Engeldamm",
          "location": [ 13.427292, 52.506902 ]
        }
      ],
      "legs": [
        {
          "summary": "KÃ¶penicker StraÃŸe, Engeldamm",
          "weight": 44.4,
          "duration": 26.2,
          "steps": [
            {
              "intersections": [
                {
                  "out": 0,
                  "entry": [ true ],
                  "bearings": [ 125 ],
                  "location": [ 13.426579, 52.508068 ]
                },
                {
                  "out": 1,
                  "in": 2,
                  "entry": [ true, true, false ],
                  "bearings": [ 30, 120, 300 ],
                  "location": [ 13.426688, 52.508022 ]
                }
              ],
              "driving_side": "right",
              "geometry": "mnn_Ick}pAHUlAqDNa@",
              "mode": "driving",
              "maneuver": {
                "bearing_after": 125,
                "bearing_before": 0,
                "location": [ 13.426579, 52.508068 ],
                "modifier": "right",
                "type": "depart",
                "instruction": "Head southeast on KÃ¶penicker StraÃŸe (L 1066)"
              },
              "ref": "L 1066",
              "weight": 35.9,
              "duration": 17.7,
              "name": "KÃ¶penicker StraÃŸe (L 1066)",
              "distance": 98.1,
              "voiceInstructions": [
                {
                  "distanceAlongGeometry": 98.1,
                  "announcement": "Head southeast on KÃ¶penicker StraÃŸe (L 1066), then turn right onto Engeldamm",
                  "ssmlAnnouncement": "<speak><amazon:effect name=\"drc\"><prosody rate=\"1.08\">Head southeast on KÃ¶penicker StraÃŸe (L <say-as interpret-as=\"address\">1066</say-as>), then turn right onto Engeldamm</prosody></amazon:effect></speak>"
                },
                {
                  "distanceAlongGeometry": 83.1,
                  "announcement": "Turn right onto Engeldamm, then you will arrive at your destination",
                  "ssmlAnnouncement": "<speak><amazon:effect name=\"drc\"><prosody rate=\"1.08\">Turn right onto Engeldamm, then you will arrive at your destination</prosody></amazon:effect></speak>"
                }
              ],
              "bannerInstructions": [
                {
                  "distanceAlongGeometry": 98.1,
                  "primary": {
                    "text": "Engeldamm",
                    "components": [ { "text": "Engeldamm" } ],
                    "type": "turn",
                    "modifier": "right"
                  },
                  "secondary": null,
                  "sub": null
                }
              ]
            },
            {
              "intersections": [
                {
                  "out": 2,
                  "in": 3,
                  "entry": [ false, true, true, false ],
                  "bearings": [ 30, 120, 210, 300 ],
                  "location": [ 13.427752, 52.50755 ]
                }
              ],
              "driving_side": "right",
              "geometry": "ekn_Imr}pARL\\T^RHDd@\\",
              "mode": "driving",
              "maneuver": {
                "bearing_after": 202,
                "bearing_before": 125,
                "location": [ 13.427752, 52.50755 ],
                "modifier": "right",
                "type": "turn",
                "instruction": "Turn right onto Engeldamm"
              },
              "weight": 8.5,
              "duration": 8.5,
              "name": "Engeldamm",
              "distance": 78.6,
              "voiceInstructions": [
                {
                  "distanceAlongGeometry": 27.7,
                  "announcement": "You have arrived at your destination",
                  "ssmlAnnouncement": "<speak><amazon:effect name=\"drc\"><prosody rate=\"1.08\">You have arrived at your destination</prosody></amazon:effect></speak>"
                }
              ],
              "bannerInstructions": [
                {
                  "distanceAlongGeometry": 78.6,
                  "primary": {
                    "text": "You will arrive at your destination",
                    "components": [ { "text": "You will arrive at your destination" } ],
                    "type": "arrive",
                    "modifier": "straight"
                  },
                  "secondary": {
                    "text": "Engeldamm",
                    "components": [ { "text": "Engeldamm" } ],
                    "type": "arrive",
                    "modifier": "straight"
                  }
                },
                {
                  "distanceAlongGeometry": 15,
                  "primary": {
                    "text": "You have arrived at your destination",
                    "components": [ { "text": "You have arrived at your destination" } ],
                    "type": "arrive",
                    "modifier": "straight"
                  },
                  "secondary": {
                    "text": "Engeldamm",
                    "components": [ { "text": "Engeldamm" } ]
                  }
                }
              ]
            },
            {
              "intersections": [
                {
                  "in": 0,
                  "entry": [ true ],
                  "bearings": [ 25 ],
                  "location": [ 13.427292, 52.506902 ]
                }
              ],
              "driving_side": "right",
              "geometry": "cgn_Iqo}pA",
              "mode": "driving",
              "maneuver": {
                "bearing_after": 0,
                "bearing_before": 205,
                "location": [ 13.427292, 52.506902 ],
                "type": "arrive",
                "instruction": "You have arrived at your destination"
              },
              "weight": 0,
              "duration": 0,
              "name": "Engeldamm",
              "distance": 0,
              "voiceInstructions": [ ],
              "bannerInstructions": [ ]
            }
          ],
          "distance": 176.7
        }
      ],
      "weight_name": "auto",
      "weight": 44.4,
      "duration": 26.2,
      "distance": 176.7
    },
    {  // A second route object or alternative route with potentially another set of waypoints
      "geometry": "mnn_Ick}pAfBiF`CzA",
      "waypoints": [ // A waypoint array specific to this route
        { // A regular, user-submitted waypoint (the origin).
          "name": "alt1_origin",
          "location": [ 13.426579, 52.508068 ]
        },
        { // A regular, user-submitted waypoint (the destination).
          "name": "alt1_destination",
          "location": [ 13.427292, 52.506902 ]
        }
      ],
      "legs": [
        { ... }
      ],
      "weight_name": "auto",
      "weight": 44.4,
      "duration": 26.2,
      "distance": 176.7
    }
  ],
  "code": "Ok",
  "uuid": "cjd51uqn5005447p8nte2zc4w"
}
OLD waypoints_per_route=false / default
{
  "routes": [
    {
      ...
    }
  ],
  "waypoints": [
    {
      "name": "KÃ¶penicker StraÃŸe",
      "location": [ 13.426579, 52.508068 ]
    },
    {
      "name": "Engeldamm",
      "location": [ 13.427292, 52.506902 ]
    }
  ],
  "code": "Ok",
  "uuid": "cjd51uqn5005447p8nte2zc4w"
}
Use HTTP POST to retrieve directions
The Directions API also supports access using the HTTP POST method. HTTP POST should be used for large requests, since the Directions API has a size limit of approximately 8100 bytes on GET request URLs. POST requests are still subject to your account's request size limits.

Learn more about this process in the Using HTTP POST section.

Electric Vehicle Routing
Electric Vehicle Routing Private Preview
The Directions API now supports electric vehicle (EV) routing that includes EV trip planning and battery prediction along the route, making smarter EVs that are easier to use. For pricing and to sign up for the EV Routing Private Preview, contact EV Sales

EV routing automatically identifies if charging is needed and if so, adds charging stops along the journey with optimal charge time and charging level for each stop. The charging stops are returned as waypoints with additional metadata in the route response. In some cases such as when range is too low to reach nearby charging stations, EV route may contain no charging stops with state of charge annotations going below 0%. Customize the EV route by defining the battery characteristics, vehicle dynamics and user preferences. See Parameters for Electric Vehicle Routing.

Parameters for Electric Vehicle Routing
EV routing is available in driving and driving-traffic profiles. Request an EV route by setting the parameter engine=electric; the other parameters apply only when the former is true. EV routing requests can specify up to 12 total waypoints. If ev_add_charging_stops is false, EV routing requests can specify up to 25 total waypoints

Required EV Parameters
Parameters	Type	Description
engine	string	Set to electric to enable electric vehicle routing. If this parameter is not specified, routing will default to non-electric vehicles.
ev_max_charge	integer	The maximum possible charge of vehicle in Wh (watt-hours). Example value of 80000 denotes a battery capacity of 80 kWh.
ev_connector_types	string	The compatible connector-types for the vehicle. The router will select the charging stations compatible with connector-types. Following connector-types are supported:
Possible values	Description
ccs_combo_type1	Combined Charging System J-plug with fast charging DC
ccs_combo_type2	Combined Charging System Mennekes with fast charging DC
tesla	Proprietary connector for tesla vehicles
chademo	CHAdeMO fast-charging system
energy_consumption_curve	string	The energy consumption in watt-hours per kilometer at a various speeds in kph. Example value of 0,300;20,160;80,140;120,180 defines for instance 160 watt-hours per kilometer at 20 km/h.
ev_charging_curve	string	The maximum battery charging rate (W) at a given charge level (Wh) in a list of pairs. Example value of 0,100000; 40000,70000; 60000,30000; 80000,10000 defines for instance 70 kW charging when the battery has 40 kWh charge. The charging curve's charging levels should span from 0 to maximum charge. The first element's charging rate is assumed to be constant between the 0 and the first element's charging level. The last element's charging rate is assumed to be constant between the last element's charging level and ev_max_charge.
Optional EV Parameters
Parameters	Type	Description
ev_initial_charge	integer	Initial charge of the vehicle in Wh (watt-hours) at the beginning of the route. Example value of 10000 denotes initial battery of 10 kWh. The default value is equal to ev_max_charge.
ev_unconditioned_charging_curve	string	The maximum battery charging rate (W) at a specified charge level (Wh) in a list of pairs when the battery is in an unconditioned state (for example, cold). This is used in conjunction with the ev_pre_conditioning_time parameter, as a result both must be supplied when using either optional field. If only one of these parameters is supplied, this is considered an invalid query and will be rejected. An unconditioned battery may affect the charge time, and may impact the ETA as a result. By accounting for an unconditioned battery with ev_unconditioned_charging_curve and ev_pre_conditioning_time a more exact ETA can be calculated. Example value of 0,50000; 42000,35000; 60000,15000; 80000,5000 defines for instance 35 kW charging when the battery has 42 kWh charge. If the battery conditioning parameters are not provided, the standard ev_charging_curve is used for calculating charge times. The unconditioned charging curve's charging levels should span from 0 to maximum charge. The first element's charging rate is assumed to be constant between the 0 and the first element's charging level. The last element's charging rate is assumed to be constant between the last element's charging level and ev_max_charge.
ev_pre_conditioning_time	integer	The time in minutes it would take for the vehicle's battery to condition. This is used in conjunction with the ev_unconditioned_charging_curve parameter, as a result both must be supplied when using either optional field. If only one of these parameters is supplied, this is considered an invalid query and will be rejected. An unconditioned battery may affect the charge time, and may impact the ETA as a result. By accounting for an unconditioned battery with ev_unconditioned_charging_curve and ev_pre_conditioning_time a more exact ETA can be calculated. Example value of 10 denotes it will take 10 minutes for the battery to reach a conditioned state. If the next EV charging stop occurs within 10 minutes of the estimated drive, the ev_unconditioned_battery_charging_curve is used to estimate charging times at the EV stop. If an EV charging stop occurs after ev_pre_conditioning_time of driving time has elapsed, it is assumed the battery is conditioned and the standard ev_charging_curve is used to estimate charging times. The minimum ev_pre_conditioning_time value is 0 minutes, the maximum value is 240 minutes. If the battery conditioning parameters are not provided, the standard ev_charging_curve is used for calculating charge times.
ev_max_ac_charging_power	integer	The maximum AC charging power(W) that can be delivered by the onboard vehicle charger. This parameter along with the ev_charging_curve dictates the battery charging rate. For example, when charging at a 16kW AC power outlet, with a vehicle onboard AC converter of 10kW (ev_max_ac_charging_power), router will use max charging power of 10kW. The default value is 14400W.
ev_min_charge_at_destination	integer	The minimum battery charge required at the final route destination (Wh). Example value of 20000 denotes that vehicle will reach destination with at least 20 kWh charge. ev_min_charge_at_destination must be between 0 and ev_max_charge. The default value is 10% of ev_max_charge.
ev_min_charge_at_charging_station	integer	The minimum charge when arriving at the charging station (Wh). Example value of 20000 denotes that the vehicle will reach each charging stop with at least 20 kWh charge. ev_min_charge_at_charging_station must be between 0 and ev_max_charge. The default value is 10% of ev_max_charge.
ev_ascent	number	The energy consumption rate for each meter of elevation gain, measured in watt-hours per meter (Wh/m). This parameter is required if ev_descent is specified.
ev_descent	number	The potential energy recuperation rate for each meter of elevation loss, measured in watt-hours per meter (Wh/m). This is the potential energy restored to the battery during descent. This parameter is required if ev_ascent is specified.
ev_regeneration_efficiency	number	Energy recuperation efficiency measures how effectively potential energy released during descent is converted back into battery charge, after accounting for energy losses. Allowed range is [0.0, 1.0]. If not provided 0.7 is used by default.
auxiliary_consumption	integer	The measure of the continuous power draw of the auxiliary systems (e.g heating, radio, air conditioning) in watts. Auxiliary consumption will affect the estimated power consumed during the trip, and may affect routing as a result. Example value of 300 denotes the vehicle's auxiliary systems are drawing 300 watts of power. The minimum value is 0 watts, the maximum value is 10000 watts.
ev_add_charging_stops	boolean	Whether EV route should add charging stops or not. When set to false, EV route will not add charging stops even if vehicle does not have enough range to complete the trip. This is useful for manually planned EV trips with user or client selecting appropriate charging stops. When set to true (default), EV route will add charging stops along the trip with optimal charge time and charging level for each stop, if needed to complete the trip with enough range.
ev_prefer_amenities	string	A comma separated list of preferred amenities. Supported values: light,restaurant,restroom,recreation_center. The routing algorithm will apply a soft preference to charging stations that offer the specified amenities.
ev_exclude_station_ids	string	Stations that should be excluded at the planning stage. A comma separated list of station IDs with a limit of 10 IDs in a request. An input error is generated if any station in this list is used as user-provided charging station (field waypoints.charging_station_id). EV Charge Finder API can be used to find station IDs. Example: ev_exclude_station_ids=dX...tz,dX...bs
ev_exclude_charge_point_provider_ids	string	A comma separated list of charge point provider IDs to exclude in the charge point search. These providers will not be used in planning and if route is only possible with these providers a route without charging points or with constraints violations can be returned. EV Charge Finder API can be used to find charge point providers IDs and to find provider ID for a particular station. The maximum number of IDs in a query is 20.
ev_prefer_charge_point_provider_ids	string	A comma separated list of charge point provider IDs to prefer in the charge point search. Planner will try to use these stations as long as route including them does not violate any other constraints. EV Charge Finder API can be used to find charge point providers IDs and to find provider ID for a particular station. The maximum number of IDs in a query is 30.
ev_exclude	string	A comma-delimited list of attributes to use to exclude stations. Stations having one or more of the specified attributes will not be used in planning. If a route is only possible using these stations, a route without charging stations or with constraint violations may be returned.
Possible values	Description
tesla_exclusive	Charge point that can only be used by Tesla cars.
Waypoint EV Parameters
The waypoint parameters are semicolon-separated lists that align one-to-one with the coordinates parameter to signify that a coordinate is an EV charging station. If EV charging stations are specified, the directions API will take them into account when calculating the route.

If a coordinate is not associated with a charging station, its position should still be represented with an empty entry (for example, consecutive semicolons). It is important to note that origin waypoints do not support charging station attributes, so all three parameters must begin with a leading semicolon. This structure ensures that the planner correctly associates charging details with the appropriate waypoints.

Parameters	Type	Description
waypoints.charging_station_power	string	A semicolon-separated list of integers representing power in watts for coordinates that represent EV charging stations. If charging is not needed at a particular charging waypoint, the corresponding charge_time value in the waypoint.metadata object of the route response will be 0. Power levels must be greater than or equal to 1000 watts.
waypoints.charging_station_current_type	string	A semicolon-separated list of strings representing the current type of coordinates that represent EV charging stations. Supported values are single_phase_ac, three_phase_ac, and dc. If the current type is single_phase_ac or three_phase_ac, the maximum charging power at the station is limited to the ev_max_ac_charging_power parameter if provided.
waypoints.charging_station_id	string	A semicolon-separated list of unique IDs for coordinates that represent EV charging stations. The unique ID is used to look up charging station details in the EV charging station database. If the station with provided ID is present in the planner's database, the waypoints.charging_station_power and waypoints.charging_station_current values corresponding to the charging waypoint may be ignored in favor of the planner's station details. If the station ID is not found, the user specified power and current values are used. To get more details about a station refer to EV Charge Finder API and to Get Charge Point details by ID call.
Charging station data
The Mapbox EV Routing processes charging stations and builds a digital graph of interconnected stations. When you make an EV route request, the router will pick up the nearest stations along the route and identify the fastest chargers that are compatible with the driverâ€™s model of EV.

Supported geographies for EV Routing
Mapbox EV Router supports the following geographies for EV trip planning:

Australia
Austria
Belgium
Bulgaria
Canada
Croatia
Czech Republic
Denmark
Estonia
Finland
France
Germany
Greece
Hong Kong
Hungary
Iceland
Ireland
Israel
Italy
Japan
Jersey
Latvia
Liechtenstein
Lithuania
Luxembourg
Macao
Malaysia
Monaco
Netherlands
New Zealand
Norway
Poland
Portugal
Romania
Serbia
Singapore
Slovakia
Slovenia
South Africa
South Korea
Spain
Sweden
Switzerland
Taiwan
Thailand
Turkey
United Arab Emirates
United Kingdom
United States
Example EV route request
curl "https://api.mapbox.com/directions/v5/mapbox/driving/11.59838875578771,48.1498484882143;11.646071564986642,48.157168731123306.json?overview=false&alternatives=true&waypoints_per_route=true&engine=electric&ev_initial_charge=600&ev_max_charge=50000&ev_connector_types=ccs_combo_type1,ccs_combo_type2&energy_consumption_curve=0,300;20,160;80,140;120,180&ev_charging_curve=0,100000;40000,70000;60000,30000;80000,10000&ev_min_charge_at_charging_station=1&access_token=YOUR_MAPBOX_ACCESS_TOKEN"
Example EV Alternative route response with EV charging stops
NEW waypoints_per_route=true, alternatives=true
{
  "routes": [
    {
      "weight_name": "auto",
      "weight": 729.764,
      "duration": 1371.657958984375,
      "distance": 4575.367,
      "waypoints": [  // A waypoint array specific to this route
        { // A regular, user-submitted waypoint (the origin).
          "name": "IfflandstraÃŸe",
          "location": [
            11.59804,
            48.149988
          ],
          "distance": 30.207000732421875,
          "metadata": null
        },
        { // A silent waypoint, as in it does not create a new leg.
          // It only describes where it matched to the route.
          "metadata": {
            "type": "silent",
            "distance_from_route_start": 2088,
            "geometry_index": 11
          },
          ...
        },
        { // A charging-station waypoint inserted by the routing engine during
          // an EV route request
          "name": "ArabellastraÃŸe",
          "location": [
            11.617788,
            48.153125
          ],
          "distance": 18.554000854492188,
          "metadata": {
            "type": "charging-station",
            "name": "BayWa Zentrale",
            "charge_time": 788,
            "charge_to": 5369,
            "charge_at_arrival": 250,
            "plug_type": "ccs_combo_type2",
            "power_kw": 150,
            "station_id": "ocm-128831",
            "provider_names": ["Tesla", "Shell Recharge Solutions"],
          }
        },
        { // A regular, user-submitted waypoint (the destination).
          "name": "BarlowstraÃŸe",
          "location": [
            11.646591,
            48.156744
          ],
          "distance": 1.1330000162124634,
          "metadata": null
        }
      ],
      "legs": [
        {
          "via_waypoints": [],
          "summary": "IfflandstraÃŸe, B 2R",
          "admins": [
            {
              "iso_3166_1_alpha3": "DEU",
              "iso_3166_1": "DE"
            }
          ],
          "weight": 333.797,
          "duration": 255.738,
          "steps": [],
          "distance": 2262.614
        },
        {
          "via_waypoints": [],
          "summary": "ArabellastraÃŸe, Englschalkinger StraÃŸe",
          "admins": [
            {
              "iso_3166_1_alpha3": "DEU",
              "iso_3166_1": "DE"
            }
          ],
          "weight": 395.967,
          "duration": 327.92,
          "steps": [],
          "distance": 2312.754
        }
      ]
    },
    {  // A second Route object, our alternative route with potentially another set of waypoints
      "geometry": "mnn_Ick}pAfBiF`CzA",
      "waypoints": [ // A waypoint array specific to this route
        { // A regular, user-submitted waypoint (the origin).
          "metadata": {
            "type": "regular"
          },
          "name": "alt1_origin",
          "distance": 1.1330000162124634
        },
        { // A charging-station waypoint inserted by the routing engine during an EV route request
          "metadata": {
            "type": "charging-station",
            "name": "charge1",
            ...
          },
          ...
        },
        { // A regular, user-submitted waypoint (the destination).
          "name": "alt1_destination",
          "location": [
            11.646591,
            48.156744
          ],
          "distance": 1.1330000162124634,
          "metadata": {
            "type": "regular"
          }
        }
        ],
          "legs": [
            { ... }
          ],
          "weight_name": "auto",
          "weight": 44.4,
          "duration": 26.2,
          "distance": 176.7
        }
  ],
  "code": "Ok",
  "uuid": "QJuXPALlclx4ciVHn-UPxhqlUD0W7jjiv1tXFH_haUpp_VkdD0sqGQ=="
}
OLD waypoints_per_route=false / default, no alternatives
{
  "routes": [
    {
      "weight_name": "auto",
      "weight": 729.764,
      "duration": 1371.657958984375,
      "distance": 4575.367,
      "legs": [
        {
          "via_waypoints": [],
          "summary": "IfflandstraÃŸe, B 2R",
          "admins": [
            {
              "iso_3166_1_alpha3": "DEU",
              "iso_3166_1": "DE"
            }
          ],
          "weight": 333.797,
          "duration": 255.738,
          "steps": [],
          "distance": 2262.614
        },
        {
          "via_waypoints": [],
          "summary": "ArabellastraÃŸe, Englschalkinger StraÃŸe",
          "admins": [
            {
              "iso_3166_1_alpha3": "DEU",
              "iso_3166_1": "DE"
            }
          ],
          "weight": 395.967,
          "duration": 327.92,
          "steps": [],
          "distance": 2312.754
        }
      ]
    }
  ],
  "waypoints": [
    {
      "name": "IfflandstraÃŸe",
      "location": [11.59804, 48.149988],
      "distance": 30.207000732421875,
      "metadata": null
    },
    {
      "name": "ArabellastraÃŸe",
      "location": [11.617788, 48.153125],
      "distance": 18.554000854492188,
      "metadata": {
        "type": "charging-station",
        "name": "BayWa Zentrale",
        "charge_time": 788,
        "charge_to": 5369,
        "charge_at_arrival": 250,
        "plug_type": "ccs_combo_type2",
        "power_kw": 150,
        "station_id": "ocm-128831",
        "provider_names": ["Tesla", "Shell Recharge Solutions"]
      }
    },
    {
      "name": "BarlowstraÃŸe",
      "location": [11.646591, 48.156744],
      "distance": 1.1330000162124634,
      "metadata": null
    }
  ],
  "code": "Ok",
  "uuid": "QJuXPALlclx4ciVHn-UPxhqlUD0W7jjiv1tXFH_haUpp_VkdD0sqGQ=="
}
Charging waypoint metadata
The Directions API returns charging stops as waypoints along the route. Each charging waypoint has additional metadata describing the charging stop. The following attributes are present in the metadata object:

Property	Type	Description
type	string	The type of waypoint. Set to charging-station for charging stops.
name	string	The name of the EV charging station.
charge_time	number	Time in seconds the EV needs to charge for at the station.
charge_to	number	Watt-hours the EV needs to charge to at the station.
charge_at_arrival	number	Battery charge, in Watt-hours, available on arrival at the station.
plug_type	string	The connector type to use for charging at the station. The current non-exhaustive list of possible values are:
ccs_combo_type1
ccs_combo_type2
chademo
tesla
mennekes_type2
current_type	string	The current type of the connector used for charging at the station. The current non-exhaustive list of possible values are:
dc
single_phase_ac
three_phase_ac
power_kw	number	The maximum power available for the connector type to use for charging at the station.
station_id	string	Unique ID of the charging station.
provider_names	array	Optional. The charge point providers of the EV charging station. There are no guarantees provider name strings are stable.
Waypoint object
The response body of a Directions API query contains a waypoint object, the input coordinates snapped to the roads network. A waypoint object contains the following properties:

Property	Type	Description
name	string	The name of the road or path to which the input coordinate has been snapped.
location	array	The snapped coordinate as [longitude, latitude].
time_zone BETA	object	An object describing time zone relevant information. This is only available for driving-traffic, driving and walking profiles. If using walking or driving profile, then depart_at or arrive_by must be used to receive time zone data.
distance	number	Optional. The straight-line distance from the coordinate specified in the query to the location it was snapped to.
metadata	object	Optional. An object describing charging stops inserted by EV Routing for routes requiring charging along the way. Its set to null for user provided waypoints including start & end locations.
Example waypoint object
{
  "name": "KirkjubÃ¸arvegur",
  "location": [-6.80897, 62.000075],
  "distance": 25,
  "time_zone": {
    "abbreviation": "WET",
    "identifier": "Atlantic/Faroe",
    "offset": "+00:00"
  },
  "metadata": {
    // metadata only for EV-routing
    "type": "charging-station",
    "name": "BayWa Zentrale",
    "charge_time": 788,
    "charge_to": 5369,
    "charge_at_arrival": 250,
    "plug_type": "ccs_combo_type2",
    "power_kw": 150,
    "station_id": "ocm-128831",
    "provider_names": ["Tesla", "Shell Recharge Solutions"]
  }
}
Time Zone Information
Each waypoint contains a time_zone object with the following fields:

Property	Type	Description
identifier	string	A unique string that specifies a time zone in the format of Region/Location, for example America/New_York or Europe/Paris, as defined by the IANA Time Zone Database.
offset	string	The difference in hours and minutes between a specific time zone and Coordinated Universal Time (UTC), for example -05:00 for Eastern Standard Time or +01:00 for Central European Time.
abbreviation	string	Optional. A short, commonly recognized abbreviation for a time zone, often used for display purposes, for example EST for Eastern Standard Time or CET for Central European Time. Note that this field may not always be available.
Route object
The response body of a Directions API query also contains an array of route objects. A route object describes a route through multiple waypoints. A route object contains the following properties:

Property	Type	Description
duration	number	The estimated travel time through the waypoints, in seconds.
distance	number	The distance traveled through the waypoints, in meters.
weight_name	string	Specifies the weight used, which by default is duration-based and includes additional penalties for less desirable maneuvers. For mapbox/driving & mapbox/driving-traffic its set to auto, while for mapbox/walking its set to pedestrian.
weight	number	A numeric value representing desirability of a route, where a lower weight indicates a more favorable route when comparing two routes with the same set of waypoints. In case multiple routes are returned, they are sorted in ascending order based on their weights.
duration_typical	number	When using the driving-traffic profile, this will be returned as a float indicating the duration of the route under typical conditions (not taking into account live traffic).
weight_typical	number	When using the driving-traffic profile, this will be returned as a float indicating the weight of the selected route under typical conditions (not taking into account live traffic).
geometry	string	Depending on the geometries query parameter, this is either a GeoJSON LineString or a Polyline string. Depending on the overview query parameter, this is the complete route geometry (full), a simplified geometry to the zoom level at which the route can be displayed in full (simplified), or is not included (false).
legs	array	An array of route leg objects.
voiceLocale	string	The locale used for voice instructions. Defaults to en (English). Can be any accepted instruction language. voiceLocale is only present in the response when voice_instructions=true.
waypoints	array	When the input parameter waypoints_per_route=true is used, the waypoints will appear in the route object and display an array of waypoint objects specific to that route. Each waypoint is an input coordinate snapped to the road and path network. The waypoints appear in the order traversed by the route. These waypoints can now contain additional waypoints like charging-stations, if used in EV-routing.
Example route object
{
  "waypoints": [], // only with waypoints_per_route=true
  "duration": 88.4,
  "distance": 830.4,
  "weight": 88.4,
  "weight_name": "routability",
  "geometry": "oklyJ`{ph@yBuY_F{^_FxJoBrBs@d@mAT",
  "legs": [],
  "voiceLocale": "en"
}
Route leg object
Route leg objects are nested within the route object. A route leg is the journey from an origin point to a destination point, so a route will usually contain one fewer route legs than it has number of input coordinates. Using the waypoints= parameter will override this. For example:

A route request with two input coordinates defines one leg with no waypoints.
A route request with three input coordinates defines two legs with one waypoint.
A route request with four input coordinates will have two legs if it includes the waypoints= parameter specifying three waypoints.
Each route leg object contains the following properties:

Property	Type	Description
distance	number	The distance traveled between waypoints, in meters.
duration	number	The estimated travel time between waypoints, in seconds.
weight	number	The weight in units described by weight_name.
duration_typical	number	When using the driving-traffic profile, this will be returned as sign of duration of the leg under typical conditions (not taking into account live traffic).
weight_typical	number	When using the driving-traffic profile, this will be returned as sign of the weight of the leg under typical conditions (not taking into account live traffic).
steps	array	Depending on the optional steps parameter, either an array of route step objects (steps=true) or an empty array (steps=false, default).
summary	string	A summary of major roads traversed in this leg of the route.
admins	array	An array of objects describing the administrative boundaries the route leg travels through. Use admin_index on the intersection object to look up the administrative boundaries for each intersection in this array.
incidents	array	An array of incident objects describing temporary events that occur along the roadway. This is only provided if incidents exist and you are using the mapbox/driving-traffic profile.
closures	array	Included in the route leg object when making a mapbox/driving-traffic request with annotations=closure,... and there are live-traffic closures along the route. This is an array of closure objects which contain the following properties:
Property	Description
geometry_index_start	The position in the coordinate list where the closure began, relative to the start of the leg it's on.
geometry_index_end	The position in the coordinate list where the closure ended, relative to the start of the leg it's on.
admins.iso_3166_1	string	Contains the two-letter ISO 3166-1 alpha-2 code that applies to a country boundary. Example: "US".
admins.iso_3166_1_alpha3	string	Contains the three-letter ISO 3166-1 alpha-3 code that applies to a country boundary. Example: "USA".
annotation	object	An annotations object that contains additional details about each line segment along the route geometry. Each entry in an annotations field corresponds to a coordinate along the route geometry.
annotation.congestion	string	The level of congestion, described as severe, heavy, moderate, low or unknown, between each entry in the array of coordinate pairs in the route leg. For any profile other than mapbox/driving-traffic a list of unknowns will be returned.
annotation.congestion_numeric	number or null	The level of congestion in numeric form, from 0-100. A value of 0 indicates no congestion, a value of 100 indicates maximum congestion. Entries may be null if congestion on that segment is not known.
annotation.distance	number	The distance between each pair of coordinates, in meters.
annotation.duration	number	The duration between each pair of coordinates, in seconds.
annotation.maxspeed	object	The local posted speed limit between each pair of coordinates. A maxspeed object contains the following properties:
Property	Description
speed (optional)	The maximum speed limit between the coordinates of a segment. The value can be either the legal speed limit or an advisory speed limit where posted
unit (optional)	The unit of measurement that speed is expressed in, either km/h or mph. Returned in combination with speed.
unknown (optional)	Returns true if the speed limit is not known.
none (optional)	Set to true if the speed limit is unlimited (for instance, a German Autobahn).
Note that none or unknown will not be present if speed and unit are present in an individual maxspeed object, and that speed and unit will not be present if unknown is present.
annotation.state_of_charge	number	The battery's current state of charge as a percentage of the maximum capacity. The value can be negative, signifying a charge deficit. Positive values show the battery's charge level. The range of values extends from negative âˆ’231 to 100, with 100 representing a fully charged battery. The state-of-charge can become negative if there are no valid routes with charging-stops. In that case, a route without additional injected charging stops will be returned, where the state-of-charge will reach and fall below 0. It is up to the client application to take appropriate measures (if any) when this happens.
annotation.speed	number	The average speed used in the calculation between the two points in each pair of coordinates, in meters per second.
via_waypoints	array	When the semicolon-separated list waypoints parameter is used in the request, an array per leg is returned that describes where a particular waypoint from the root-level array matches to the route. This provides a way for tracking when a waypoint is passed along the route. Also see the optional waypoints parameter description.
via_waypoints.waypoint_index	number	The associated waypoint index, excluding the origin (index 0) and destination.
via_waypoints.distance_from_start	double	The calculated distance, in meters, from the leg origin.
via_waypoints.geometry_index	number	The associated leg shape index of the via waypoint location.
notifications	array	An optional array of notification objects describing notifications about the route.
Example route leg object
{
  "via_waypoints": [
    {
      "waypoint_index": 1,
      "distance_from_start": 127.951,
      "geometry_index": 6
    },
    {
      "waypoint_index": 2,
      "distance_from_start": 236.822,
      "geometry_index": 10
    }
  ],
  "annotation": {
    "distance": [
      4.294596842089401, 5.051172053200946, 5.533254065167979,
      6.576513793849532, 7.4449640160938015, 8.468757534990829,
      15.202780313562714, 7.056346577326572
    ],
    "duration": [1, 1.2, 2, 1.6, 1.8, 2, 3.6, 1.7],
    "speed": [4.3, 4.2, 2.8, 4.1, 4.1, 4.2, 4.2, 4.2],
    "congestion": [
      "low",
      "moderate",
      "moderate",
      "moderate",
      "heavy",
      "heavy",
      "heavy",
      "heavy"
    ],
    "maxspeed": [
      {
        "speed": 56,
        "unit": "km/h"
      },
      {
        "speed": 56,
        "unit": "km/h"
      },
      {
        "speed": 56,
        "unit": "km/h"
      },
      {
        "speed": 56,
        "unit": "km/h"
      },
      {
        "speed": 56,
        "unit": "km/h"
      },
      {
        "speed": 56,
        "unit": "km/h"
      },
      {
        "speed": 56,
        "unit": "km/h"
      },
      {
        "speed": 56,
        "unit": "km/h"
      }
    ]
  },
  "duration": 99.824,
  "weight": 131.349,
  "distance": 580.039,
  "steps": [],
  "summary": ""
}
Route step object
In a route leg object, a nested route step object includes one step maneuver object as well as information about travel to the following route step:

Property	Type	Description
maneuver	object	One step maneuver object.
distance	number	The distance traveled, in meters, from the maneuver to the next route step.
duration	number	The estimated time traveled, in seconds, from the maneuver to the next route step.
weight	number	The weight in units described by weight_name.
duration_typical	number	When using the driving-traffic profile, this will be returned as sign of duration of the step under typical conditions (not taking into account live traffic).
weight_typical	number	When using the driving-traffic profile, this will be returned as sign of the weight of the step under typical conditions (not taking into account live traffic).
geometry	string	Depending on the geometries parameter, this is a GeoJSON LineString or a Polyline string representing the full route geometry from this route step to the next route step.
name	string	The name of the road or path that forms part of the route step.
ref	string	Any road designations associated with the road or path leading from this stepâ€™s maneuver to the next stepâ€™s maneuver. If multiple road designations are associated with the road, they are separated by semicolons. Typically consists of an alphabetic network code (identifying the road type or numbering system), a space or hyphen, and a route number. Optionally included, if data is available.
Note: A network code is not necessarily globally unique, and should not be treated as though it is. A route number may not uniquely identify a road within a given network.
destinations	string	The destinations of the road or path along which the travel proceeds. Optionally included, if data is available.
exits	string	The exit numbers or names of the road or path. Optionally included, if data is available.
driving_side	string	The legal driving side at the location for this step. Either left or right.
mode	string	The mode of transportation.
Profile	Possible values
mapbox/driving	driving, ferry, unaccessible
mapbox/walking	walking, ferry, unaccessible
mapbox/cycling	cycling, walking, ferry, train, unaccessible
pronunciation	string	An IPA phonetic transcription indicating how to pronounce the name in the name property. Omitted if pronunciation data is not available for the step.
intersections	array	An array of objects representing all the intersections along the step:
intersections.location	array	A [longitude, latitude] pair describing the location of the turn.
intersections.bearings	array	A list of bearing values that are available at the intersection. The bearings describe all available roads at the intersection.
intersections.classes	array	An array of strings signifying the classes of the road exiting the intersection.
Possible values	Description
toll	Road continues on a toll road
ferry	Road continues on a ferry
restricted	Road continues on with access restrictions
motorway	Road continues on a motorway
tunnel	Road continues in a tunnel
intersections.entry	array	A list of entry flags, corresponding with the entries in bearings. If the flag is true, indicates that the respective road could be entered on a valid route. If false, the turn onto the respective road would violate a restriction.
intersections.geometry_index	integer	The zero-based index into the geometry, relative to the start of the leg it's on. This value can be used to apply the duration annotation that corresponds with the intersection. Only available on the driving, driving-traffic, and walking profile.
intersections.in	integer	The index in the bearings and entry arrays. Used to calculate the bearing before the turn. Namely, the clockwise angle from true north to the direction of travel before the maneuver/passing the intersection. To get the bearing in the direction of driving, the bearing has to be rotated by a value of 180. The value is not supplied for departure maneuvers.
intersections.out	integer	The index in the bearings and entry arrays. Used to extract the bearing after the turn. Namely, the clockwise angle from true north to the direction of travel after the maneuver/passing the intersection. The value is not supplied for arrival maneuvers.
intersections.lanes	array	An array of lane objects that represent the available turn lanes at the intersection. If no lane information is available for an intersection, the lanes property will not be present.
intersections.duration	number	The time required, in seconds, to traverse the intersection. Only available on the driving profile.
intersections.tunnel_name	string	The name of the tunnel when the road exiting the intersection continues in a tunnel. This property is only included when the tunnel has a specified name. Only available on the driving profile.
intersections.mapbox_streets_v8	object	Contains detailed information about the road exiting the intersection along the route. Properties in this object correspond to properties in the Mapbox Streets v8 road specification. Only available on the driving profile.
intersections.mapbox_streets_v8.class	string	The road class of the road exiting the intersection as defined by the Mapbox Streets v8 road class specification. Valid values include, but are not limited to, those supported by Mapbox Streets v8. For example: motorway, motorway_link, primary, and street.
intersections.is_urban	boolean	Indicates whether the road exiting the intersection is considered to be in an urban area. This value is determined by the density of the surrounding road network. Only available on the driving profile.
intersections.admin_index	integer	The zero-based index into the administrative boundaries list on the route leg for this intersection. Use this field to look up the ISO 3166-1 country code for this point on the route. Only available on the driving profile.
intersections.rest_stop	object	Contains information about passing rest stops along the route. Only available on the driving profile.
intersections.rest_stop.type	string	The type of rest stop, always included in the rest_stop object. Valid values include, but are not limited to, rest_area (includes parking only) and service_area (includes amenities such as gas or restaurants). In Japan, rest_area and service_area correspond to ï¼°ï¼¡ and ï¼³ï¼¡ in the rest stop name, regardless of their amenities.
intersections.rest_stop.name	string	The name of the rest stop. Optionally included if data is available.
intersections.toll_collection	object	Contains information about a toll collection point along the route. This is a payment booth or overhead electronic gantry where a toll charge may be collected. Only available on the driving profile.
intersections.toll_collection.type	string	The type of toll collection point, always included in the toll_collection object. Valid values include, but are not limited to, toll_booth and toll_gantry.
intersections.toll_collection.name	string	The name of toll collection point. Optionally included if data is available.
intersections.railway_crossing	boolean	Indicates whether there is a railway crossing at the intersection.
intersections.traffic_signal	boolean	Indicates whether there is a traffic signal at the intersection.
intersections.stop_sign	boolean	Indicates whether there is a stop sign at the intersection.
intersections.yield_sign	boolean	Indicates whether there is a yield sign at the intersection.
speedLimitSign	string	The design of speed limit signs along the route step, either mutcd (Manual on Uniform Traffic Control Devices) or vienna (Vienna Convention on Road Signs and Signals). Only present in the response when the annotations query parameter contains maxspeed.
speedLimitUnit	string	The unit of measurement for speed that is used locally along the step, either km/h or mph. This unit is an appropriate default unit to display in the absence of a user preference; it may differ from the unit property of the annotation objects. Only present in the response when the annotations query parameter contains maxspeed.
Example route step object
{
  "intersections": [
    {
      "out": 1,
      "location": [13.424671, 52.508812],
      "bearings": [120, 210, 300],
      "entry": [false, true, true],
      "in": 0,
      "stop_sign": true,
      "lanes": [
        {
          "valid": true,
          "active": true,
          "valid_indication": "straight",
          "indications": ["left", "straight"]
        },
        {
          "valid": true,
          "active": false,
          "valid_indication": "straight",
          "indications": ["straight", "right"]
        },
        {
          "valid": false,
          "active": false,
          "indications": ["right"]
        }
      ]
    }
  ],
  "geometry": "asn_Ie_}pAdKxG",
  "maneuver": {
    "bearing_after": 202,
    "type": "turn",
    "modifier": "left",
    "bearing_before": 299,
    "location": [13.424671, 52.508812],
    "instruction": "Turn left onto AdalbertstraÃŸe"
  },
  "duration": 59.1,
  "distance": 236.9,
  "driving_side": "right",
  "weight": 59.1,
  "name": "AdalbertstraÃŸe",
  "mode": "driving"
}
Step maneuver object
A route step object contains a nested step maneuver object, which contains the following properties:

Property	Type	Description
bearing_before	integer	A number between 0 and 360 indicating the clockwise angle from true north to the direction of travel before the maneuver.
bearing_after	integer	A number between 0 and 360 indicating the clockwise angle from true north to the direction of travel after the maneuver.
instruction	string	A human-readable instruction of how to execute the returned maneuver.
location	array	The coordinates of the maneuver as [longitude, latitude].
modifier	string	Optional. The direction change of the maneuver. The meaning of each modifier depends on the type property.
Possible values	Description
uturn	Indicates a reversal of direction. type can be turn or continue when staying on the same road.
sharp right	A sharp right turn.
right	A normal turn to the right.
slight right	A slight turn to the right.
straight	No relevant change in direction.
slight left	A slight turn to the left.
left	A normal turn to the left.
sharp left	A sharp turn to the left.
If the source or target location is close enough to the depart or arrive location, no modifier will be supplied.
type	string	Indicates the type of maneuver. See the full list of maneuver types in the maneuver types table. If no modifier is provided, the type of maneuvers is limited to depart and arrive.
Maneuver types
type	Description
turn	A turn in the direction of the modifier.
new name	The road name changes (after a mandatory turn).
depart	Indicates departure from a leg. The modifier value indicates the position of the departure point compared to the current direction of travel.
arrive	Indicates arrival to a destination of a leg. The modifier value indicates the position of the arrival point compared to the current direction of travel.
merge	Merge onto a street.
on ramp	Take a ramp to enter a highway.
off ramp	Take a ramp to exit a highway.
fork	Keep left or right side at a bifurcation, or left/right/straight at a trifurcation.
end of road	Road ends in a T intersection.
continue	Continue on a street after a turn.
roundabout	Traverse roundabout. Has an additional property exit in the route step that contains the exit number. The modifier specifies the direction of entering the roundabout.
rotary	A traffic circle. While like a larger version of a roundabout, it does not necessarily follow roundabout rules for right of way. It can offer rotary_name parameters, rotary_pronunciation parameters, or both, located in the route step object. It also contains the exit property.
roundabout turn	A small roundabout that is treated as an intersection.
notification	Indicates a change of driving conditions, for example changing the mode from driving to ferry.
exit roundabout	Indicates the exit maneuver from a roundabout. Will not appear in results unless you supply the roundabout_exits=true query parameter in the request.
exit rotary	Indicates the exit maneuver from a rotary. Will not appear in results unless you supply the roundabout_exits=true query parameter in the request.
Note
New properties, potentially depending on type, may be introduced in the future without an API version change.

Example step maneuver object
{
  "bearing_before": 299,
  "bearing_after": 202,
  "type": "turn",
  "modifier": "left",
  "location": [13.424671, 52.508812],
  "instruction": "Turn left onto AdalbertstraÃŸe"
}
Lane object
A route step object contains a nested lane object. The lane object describes the available turn lanes at an intersection. Lanes are provided in their order on the street, from left to right.

Property	Type	Description
valid	boolean	Indicates whether a lane can be used to complete the maneuver (true) or not (false). For example, if a lane array has four objects and the first two are valid, the driver can take either of the left lanes and stay on the route.
active	boolean	Indicates whether a lane is a preferred lane (true) or not (false). A preferred lane is a lane that is recommended if there are multiple lanes available. For example, if guidance indicates that the driver must turn left at an intersection and there are multiple left turn lanes, the left turn lane that will better prepare the driver for the next maneuver will be marked as active. Only available on the mapbox/driving profile.
valid_indication	string	When either the valid or active value is true, this property shows which of the lane indications applies to the current route, when there is more than one. For example, if a lane allows you to go left or straight but your current route is guiding you to the left, then this value will be left. See indications for possible values. When both active and valid are false, this property will not be included in the response. Only available on the mapbox/driving profile.
indications	array	The indications (based on signs, road markings, or both) for a lane. A road can have multiple indications. For example, a turn lane can have a sign with an arrow pointing left and another arrow pointing straight.
Possible values	Description
none	No dedicated sign is displayed
straight	A sign signaling to continue straight
sharp left	A sign signaling a sharp left turn
left	A sign signaling a left turn
slight left	A sign signaling a slight left turn
slight right	A sign signaling a slight right turn
right	A sign signaling a right turn
sharp right	A sign signaling a sharp right turn
uturn	A sign signaling the possibility to reverse direction by making a u-turn
access.designated	array	Indicates whether a lane is designated to specified vehicle types. A vehicle type can be any of (but not limited to) bicycle, bus, hov, moped, motorcycle, or taxi. For example, when a lane is designated to buses and taxis, this field should have ["bus", "taxi"] as its value.
Example lane object
{
  "valid": true,
  "active": true,
  "valid_indication": "left",
  "indications": ["left"],
  "access": {
    "designated": ["bicycle", "bus"]
  }
}
Voice instruction object
A route step object contains a nested voice instruction object if the optional voice_instructions=true query parameter is present. The voice instruction object contains the text that should be announced, along with how far from the maneuver it should be emitted. The system will announce the instructions during the route step in which the voice instruction object is nested, but the instructions refer to the maneuver in the following step.

Property	Type	Description
distanceAlongGeometry	number	A float indicating how far from the upcoming maneuver the voice instruction should begin, in meters.
announcement	string	The text of the verbal instruction.
ssmlAnnouncement	string	Contains SSML markup for proper text and pronunciation. This property is designed for use with Amazon Polly. The SSML tags may not work with other text-to-speech engines.
Example voice instruction object
{
  "distanceAlongGeometry": 375.7,
  "announcement": "In a quarter mile, take the ramp on the right towards I 495: Baltimore",
  "ssmlAnnouncement": "<speak><amazon:effect name=\"drc\"><prosody rate=\"1.08\">In a quarter mile, take the ramp on the right towards <say-as interpret-as=\"address\">I-495</say-as>: Baltimore</prosody></amazon:effect></speak>"
}
Banner instruction object
A route step object contains a nested banner instruction object if the optional banner_instructions=true query parameter is present. The banner instruction object contains the contents of a banner that should be displayed as added visual guidance for a route. The banner instructions are children of the route steps during which they should be displayed, but they refer to the maneuver in the following step.

Property	Type	Description
distanceAlongGeometry	number	A float indicating how far from the upcoming maneuver the banner instruction should begin being displayed, in meters. Only one banner should be displayed at a time.
primary	object	The most important content to display to the user. This text is larger and at the top.
secondary	object or null	Optional. Additional content useful for visual guidance. This text is slightly smaller and below primary. Can be null.
sub	object	Optional. Additional information that is included if the driver needs to be notified about something. Can include information about the next maneuver (the one after the upcoming one) if the step is short. If lane information is available, that takes precedence over information about the next maneuver.
Each of the different banner types (primary, secondary, and sub) contains the following properties:

Property	Type	Description
text	string	All the text that should be displayed.
type	string	Optional. The type of maneuver. May be used in combination with the modifier (and, if it is a roundabout, the degrees) for an icon to display. Possible values: turn, merge, depart, arrive, fork, off ramp, and roundabout.
modifier	string	Optional. The modifier for the maneuver. Can be used in combination with the type (and, if it is a roundabout, the degrees) for an icon to display.
Possible values	Description
uturn	Indicates a reversal of direction
sharp right	A sharp right turn
right	A normal turn to the right
slight right	A slight turn to the right
straight	No relevant change in direction
slight left	A slight turn to the left
left	A normal turn to the left
sharp left	A sharp turn to the left
degrees	integer	Optional. The degrees at which you will be exiting a roundabout, assuming 180 indicates going straight through the roundabout.
driving_side	string	Optional. The side of the street on which people drive in that location. Can be left or right.
components	array	An array of objects that, together, make up what should be displayed in the banner. Includes additional information intended to be used to aid in visual layout. A component can contain the following properties:
components.type	string	Contains more context about the component that may help in visual markup and display choices. If the type of the component is unknown, it should be treated as text.
Possible values	Description
text	Default. Indicates the text is part of the instructions and no other type.
icon	This is text that can be replaced by an imageBaseURL icon.
delimiter	This is text that can be dropped, and should be dropped if you are rendering icons.
exit-number	Indicates the exit number for the maneuver.
exit	Provides the word for exit in the local language.
lane	Indicates which lanes can be used to complete the maneuver.
The introduction of new types is not considered a breaking change.
components.text	string	The sub-string of the text of the parent objects that may have additional context associated with it
components.abbr	string	Optional. The abbreviated form of text. If this is present, there will also be an abbr_priority value. For an example of using abbr and abbr_priority, see the abbreviation examples table.
components.abbr_priority	integer	Optional. Indicates the order in which the abbreviation abbr should be used in place of text. The highest priority is 0, while a higher integer value means it should have a lower priority. There are no gaps in integer values. Multiple components can have the same abbr_priority. When this happens, all components with the same abbr_priority should be abbreviated at the same time. Finding no larger values of abbr_priority means that the string is fully abbreviated.
components.imageBaseURL	string	Optional. Points to a shield image to use instead of the text. The shield image can be retrieved as an SVG by appending .svg to the URL string, or it can be retrieved as a PNG at 1-3Ã— pixel density by appending @1x.png, @2x.png, or @3x.png to the URL string.
components.directions	array	Optional. Indicates which directions you can go from a lane (left, right, or straight). If the value is ['left', 'straight'], the driver can go straight or left from that lane. Present if components.type is lane.
components.active	boolean	Optional. Indicates whether the lane is recommended for performing the upcoming maneuver. If multiple lanes are active, all are equally recommended. Present if components.type is lane.
components.active_direction	string	Optional. When components.active is true, this property shows which of the lane's components.directions applies to the current route, when there is more than one. For example, if a lane allows you to go left or straight but your current route is guiding you to the left, then this value will be left. See component.directions for possible values. When components.active is false, this property will not be included in the response. Only available on the mapbox/driving profile.
Abbreviation examples
text	abbr	abbr_priority
North	N	1
Franklin Drive	Franklin Dr	0
Given the components in the table above, the possible abbreviations are, in order:

North Franklin Dr
N Franklin Dr
Example banner instruction object
{
  "distanceAlongGeometry": 100,
  "primary": {
    "type": "turn",
    "modifier": "left",
    "text": "I 495 North / I 95",
    "components": [
      {
        "text": "I 495",
        "imageBaseURL": "https://s3.amazonaws.com/mapbox/shields/v3/i-495",
        "type": "icon"
      },
      {
        "text": "North",
        "type": "text",
        "abbr": "N",
        "abbr_priority": 0
      },
      {
        "text": "/",
        "type": "delimiter"
      },
      {
        "text": "I 95",
        "imageBaseURL": "https://s3.amazonaws.com/mapbox/shields/v3/i-95",
        "type": "icon"
      }
    ]
  },
  "secondary": {
    "type": "turn",
    "modifier": "left",
    "text": "Baltimore / Northern Virginia",
    "components": [
      {
        "text": "Baltimore",
        "type": "text"
      },
      {
        "text": "/",
        "type": "text"
      },
      {
        "text": "Northern Virginia",
        "type": "text"
      }
    ]
  },
  "sub": {
    "text": "",
    "components": [
      {
        "text": "",
        "type": "lane",
        "directions": ["left"],
        "active": true
      },
      {
        "text": "",
        "type": "lane",
        "directions": ["left", "straight"],
        "active": true
      },
      {
        "text": "",
        "type": "lane",
        "directions": ["right"],
        "active": false
      }
    ]
  }
}
Incident object
The incident object is included in the route leg object when making a mapbox/driving-traffic request in cases where there are incidents along the route.

Property	Type	Description
id	string	The unique ID of the incident.
type	string	The type of incident this is. It can be one of several possible incidents including: accident, congestion, construction, disabled_vehicle, lane_restriction, mass_transit, miscellaneous, other_news, planned_event, road_closure, road_hazard, weather.
description	string	A short description of the incident in a human-readable format.
long_description	string	A long description of the incident in a human-readable format.
creation_time	string	The time this incident was last created as an incident on the map in ISO-8601 format (for example, 2020-12-18T15:56:53Z). This value can change for the same incident between requests.
start_time	string	The time this incident was started or is expected to start in ISO-8601 format (for example, 2020-12-18T15:56:53Z).
end_time	string	The time this incident ended or is expected to end in ISO-8601 format (for example, 2020-12-18T15:56:53Z).
impact	string	The impact of the incident on local traffic. Can be one of: unknown, critical, major, minor, low.
lanes_blocked	array	Lanes that are blocked by the incident. Some examples of values include: left, left center, left turn lane, center, right, right center, right turn lane, hov.
num_lanes_blocked	integer	The number of items in the lanes_blocked array.
congestion	object	Contains information about the amount of congestion on the road around the incident.
congestion.value	integer	A number between 0 and 101 representing the level of congestion caused by the incident. The higher the number, the more congestion there is. A value of 0 means there is no congestion on the road. A value of 100 means that the road is closed. A value of 101 means that no congestion was calculated.
closed	boolean	If this is true then the road has been completely closed.
geometry_index_start	integer	The position in the coordinate list where the incident began, relative to the start of the leg it's on.
geometry_index_end	integer	The position in the coordinate list where the incident ended, relative to the start of the leg it's on.
sub_type	string	This could contain additional information about the type of incident.
sub_type_description	string	This could contain detail about the value of the sub_type field.
iso_3166_1_alpha2	string	The two-letter ISO 3166-1 alpha-2 code for the country the incident is located in. Example: "US".
iso_3166_1_alpha3	string	The three-letter ISO 3166-1 alpha-3 code for the country the incident is located in. Example: "USA".
affected_road_names	array	List of roads names affected by the incident. Alternate road names are separated by a /. The list is ordered from the first affected road to the last one that the incident affects.
south	number	The incident bounding box south latitude coordinate as float.
west	number	The incident bounding box west longitude coordinate as float.
north	number	The incident bounding box north latitude coordinate as float.
east	number	The incident bounding box east longitude coordinate as float.
Instructions languages
The table below shows supported language codes used with the language parameter for turn-by-turn instructions. The language parameter will default to en (English) if an unsupported language code is used.

Code	Language	Text	Voice
ar or ar-AE	Arabic	âœ…	âœ…
id or id-ID	Bahasa (Indonesia)	âœ…	â€”
bs or bs-BA	Bosnian	âœ…	* contact sales
bg or bg-BG	Bulgarian	âœ…	* contact sales
yue or yue-CN	Cantonese	âœ…	* contact sales
zh, zh-CN or cmn-CN	Chinese (Mandarin,Simplified)	âœ…	âœ…
zh-TW	Chinese (Mandarin,Traditional)	âœ…	* contact sales
hr-HR	Croatian	âœ…	â€”
cs or cs-CZ	Czech	âœ…	* contact sales
da or da-DK	Danish	âœ…	âœ…
nl-BE	Dutch (Belgium)	âœ…	âœ…
nl or nl-NL	Dutch (Holland)	âœ…	âœ…
en-AU	English (Australia)	en-GB	âœ…
en-GB-WLS	English (Welsh)	en-GB	en-GB
en-GB	English (UK)	âœ…	âœ…
en-IN	English (India)	en-GB	âœ…
en-SG	English (Singapore)	âœ…	â€”
en or en-US	English (United States)	âœ…	âœ…
et or et-EE	Estonian	âœ…	â€”
fi or fi-FI	Finnish	âœ…	* contact sales
fr-CA	French (Canada)	âœ…	âœ…
fr or fr-FR	French (France)	âœ…	âœ…
de or de-DE	German (Germany)	âœ…	âœ…
de-CH	German (Switzerland)	de or de-DE	de or de-DE
el or el-GR	Greek (Greece)	âœ…	* contact sales
he or he-IL	Hebrew	âœ…	â€”
hu or hu-HU	Hungarian	âœ…	* contact sales
is or is_IS	Icelandic	-	âœ…
id or id-ID	Indonesian	âœ…	* contact sales
it or it-IT	Italian	âœ…	âœ…
ja or ja-JP	Japanese	âœ…	âœ…
ko or ko-KR	Korean	âœ…	âœ…
lv-LV	Latvian	âœ…	* contact sales
lt or lt-LT	Lithuanian	âœ…	* contact sales
ms or ms-MY	Malay (Malaysia)	âœ…	* contact sales
no-NO	Norwegian	-	âœ…
nb-NO	Norwegian (BokmÃ¥l)	âœ…	âœ…
pl or pl-PL	Polish	âœ…	âœ…
pt-BR	Portuguese (Brazil)	âœ…	â€”
pt or pt-PT	Portuguese (Portugal)	âœ…	âœ…
ro or ro-RO	Romanian	âœ…	âœ…
ru or ru-RU	Russian	âœ…	âœ…
sr or sr-RS	Serbian (Cyrillic)	âœ…	* contact sales
sk or sk-SK	Slovak	âœ…	* contact sales
sl or sl-SI	Slovene	âœ…	* contact sales
es-MX	Spanish (Latin America)	âœ…	âœ…
es or es-ES	Spanish (Spain)	âœ…	âœ…
es-US	Spanish (United States)	es-MX	âœ…
sv or sv-SE	Swedish	âœ…	âœ…
th-TH	Thai	âœ…	â€”
tr or tr-TR	Turkish	âœ…	â€”
uk or uk-UA	Ukrainian	âœ…	â€”
vi or vi-VN	Vietnamese	âœ…	â€”
For access, contact us for more information. Premium voices available for de-de, nl-nl, and yue-cn. To enable, contact us
Use of the underscore as a language code separator is supported too, like nl_NL. The language parameter is case-insensitive.

Notification object
Property	Type	Description
notifications.type	string	The type of notifications. Notification types supported are violation and alert. violation is more severe in nature and are delivered when user-set parameters (ex: exclude=unpaved) are violated during route generation. The severity of alert is less, and is intended to inform users when implicit preferences cannot be satisfied (ex: countryBorderCrossing). Available values are in the tables below.
notifications.subtype	string	The optional subtype of notification. Available values are displayed in the tables below.
notifications.refresh_type	string	The refresh type of notification to distinguish between static and dynamic notifications.
Possible values	Description
static	A notification that is received with the initial route request or during one of the route refreshes, but is then kept constant and not updated on route refreshes. It persists until arrival. An example is a violation alert, where the condition is unlikely to change.
dynamic	A notification that is updated and reset with each route refresh. Previous notifications of this type are cleared, and new ones are applied based on the current status. This type of notification is used for information that can change, such as the status of a busy EV station.
notifications.geometry_index	integer	The optional position in the coordinate list where the notification occurred, relative to the start of the leg it's on.
notifications.geometry_index_start	integer	The optional position in the coordinate list where the notification began, relative to the start of the leg it's on.
notifications.geometry_index_end	integer	The optional position in the coordinate list where the notification ended, relative to the start of the leg it's on.
notifications.station_id	string	When notification concerns an EV charging station this field will contain the ID of the station.
notifications.reason	string	The reason why notification was issued. See the subtype tables below for a list of possible values.
notifications.details	object	The optional details specific to the notification type and subtype.
notifications.details.requested_value	string	The optional requested value in the request. For example, it is 3 (meters) if we specify max_width=3 in the request.
notifications.details.actual_value	string	The optional actual value associated with the property of the road. For example, it is 2.5 (meters) if maximum road width is 2.5 meters.
notifications.details.unit	string	The optional unit of measure associated with details.actual_value and details.requested_value.
notifications.details.message	string	The optional message of the notification.
If notifications.geometry_index_start and notifications.geometry_index_end is present, then the notification is related to a range on the leg geometry. If notifications.geometry_index is present, then the notification is related to a point on the leg geometry. Otherwise, the notification is not related to the leg geometry. Note that only the pair of notifications.geometry_index_start and notifications.geometry_index_end or notifications.geometry_index can be present in a single notification object.

The notifications.details object is specific to the notification type and subtype.

Available violations (notifications.type=violation)
violation is more severe in nature and are delivered when user-set parameters (ex: exclude=unpaved) are violated during route generation.

Subtype

Description	Example
maxHeight

The height of the vehicle is greater than the allowed height of the road. It is provided when max_height is specified.	
{
  "type": "violation",
  "subtype": "maxHeight",
  "refresh_type": "static",
  "geometry_index_end": 5,
  "geometry_index_start": 3,
  "details": {
    "actual_value": "4.60",
    "requested_value": "4.70",
    "unit": "meters",
    "message": "The height of the vehicle (4.7 meters) is more than the permissible height of travel on the road (4.6 meters) by 0.10 meters."
  }
}
maxWidth

The width of the vehicle is greater than the allowed width of the road. It is provided when max_width is specified.	
{
  "type": "violation",
  "subtype": "maxWidth",
  "refresh_type": "static",
  "geometry_index_end": 2,
  "geometry_index_start": 1,
  "details": {
    "actual_value": "4.69",
    "requested_value": "5.10",
    "unit": "meters",
    "message": "The width of the vehicle (5.1 meters) is more than the permissible width of travel on the road (4.69 meters) by 0.41 meters."
  }
}
maxWeight

The weight of the vehicle is greater than the allowed weight of the road. It is provided when max_weight is specified.	
{
  "type": "violation",
  "subtype": "maxWeight",
  "refresh_type": "static",
  "geometry_index_end": 1,
  "geometry_index_start": 0,
  "details": {
    "actual_value": "4.60",
    "requested_value": "5.10",
    "unit": "metric tons",
    "message": "The weight of the vehicle (5.1 metric tons) is more than the permissible weight of travel on the road (4.6 metric tons) by 0.50 metric tons."
  }
}
unpaved

Unpaved road, while it was explicitly requested to exclude unpaved roads from the route. It is provided when exclude=unpaved	
{
  "type": "violation",
  "subtype": "unpaved",
  "refresh_type": "static",
  "geometry_index_end": 3,
  "geometry_index_start": 2,
  "details": {
    "requested_value": "paved",
    "actual_value": "dirt",
    "message": "The road has an unpaved surface (dirt)."
  }
}
tunnel

Road with tunnel, while it was explicitly requested to exclude tunnel roads from the route. It is provided when exclude=tunnel	
{
  "type": "violation",
  "subtype": "tunnel",
  "refresh_type": "static",
  "geometry_index_end": 3,
  "geometry_index_start": 2,
  "details": {
    "message": "Tunnel avoidance not possible - the road leads through a tunnel."
  }
}
pointExclusion

Undesirable road, while it was explicitly requested to exclude a road from the route by point. It is provided when exclude=point(longitude latitude).	
{
  "type": "violation",
  "subtype": "pointExclusion",
  "refresh_type": "static",
  "geometry_index_end": 3,
  "geometry_index_start": 2,
  "details": {
    "message": "The road was marked as undesirable for routing due to the exclusion by point[1.004941,0.996407]."
  }
}
countryBorderCrossing

Indicates a country border crossing. It is provided when exclude=country_border.	
{
  "type": "violation",
  "subtype": "countryBorderCrossing",
  "refresh_type": "static",
  "geometry_index_end": 1,
  "geometry_index_start": 0,
  "details": {
    "actual_value": "US,CA",
    "message": "Crossing the border of the countries of US and CA."
  }
}
stateBorderCrossing

Indicates a state border crossing. It is provided when exclude=state_border.	
{
  "type": "violation",
  "subtype": "stateBorderCrossing",
  "refresh_type": "static",
  "geometry_index_end": 1,
  "geometry_index_start": 0,
  "details": {
    "actual_value": "US-NV,US-CA",
    "message": "Crossing the border of the states of US-NV and US-CA."
  }
}
evMinChargeAtChargingStation

Only applicable with engine=electric. EV's battery charge level was less than requested at a charging station. See ev_min_charge_at_charging_station EV routing parameter.	
{
  "type": "violation",
  "subtype": "evMinChargeAtChargingStation",
  "refresh_type": "dynamic",
  "details": {
    "requested_value": 30000,
    "actual_value": 27000,
    "unit": "Wh"
  }
}
evMinChargeAtDestination

Only applicable with engine=electric. EV's battery charge level was less than requested at the destination. See ev_min_charge_at_destination EV routing parameter.	
{
  "type": "violation",
  "subtype": "evMinChargeAtDestination",
  "refresh_type": "dynamic",
  "details": {
    "requested_value": 20000,
    "actual_value": 13000,
    "unit": "Wh"
  }
}
Available alerts (notifications.type=alert)
The severity of alert is less, and is intended to inform users when implicit preferences cannot be satisfied (ex: countryBorderCrossing).

Subtype

Description	Example
countryBorderCrossing

Indicates a country border crossing.	
{
  "type": "alert",
  "subtype": "countryBorderCrossing",
  "refresh_type": "static",
  "geometry_index_end": 1,
  "geometry_index_start": 0,
  "details": {
    "actual_value": "US,CA",
    "message": "Crossing the border of the countries of US and CA."
  }
}
stateBorderCrossing

Indicates a state border crossing.	
{
  "type": "alert",
  "subtype": "stateBorderCrossing",
  "refresh_type": "static",
  "geometry_index_end": 1,
  "geometry_index_start": 0,
  "details": {
    "actual_value": "US-NV,US-CA",
    "message": "Crossing the border of the states of NV and CA."
  }
}
tunnel

Indicates a tunnel.	
{
  "type": "alert",
  "subtype": "tunnel",
  "refresh_type": "static",
  "geometry_index_end": 1,
  "geometry_index_start": 0,
  "details": {
    "message": "The road leads through a tunnel."
  }
}
evInsufficientCharge

Only applicable with engine=electric. EV's battery charge level transitioned from a positive value to zero or less for the first time on a leg. Note that if a leg starts with zero charge level the notification is not emitted.	
{
  "type": "alert",
  "subtype": "evInsufficientCharge",
  "refresh_type": "dynamic",
  "geometry_index": 3
}
stationUnavailable

Only applicable with engine=electric. The station offered during trip planning became unavailable. The reason for availability change is provided in field reason and can be either outOfOrder (when station broke down) or occupied (when there are no available chargers at the station).	
{
  "type": "alert",
  "subtype": "stationUnavailable",
  "refresh_type": "dynamic",
  "reason": "outOfOrder",
  "station_id": "station-1",
}
Directions API errors
On error, the server responds with different HTTP status codes:

For responses with HTTP status codes lower than 500, the JSON response body includes the code property, which may be used by client programs to manage control flow. The response body may also include a message property with a human-readable explanation of the error.
If a server error occurs, the HTTP status code will be 500 or higher and the response will not include a code property.
Response body code	HTTP status code	Description
Ok	200	Normal success case.
NoRoute	200	There was no route found for the given coordinates. Check for impossible routes (for example, routes over oceans without ferry connections).
NoSegment	200	No road segment could be matched for one or more coordinates within the supplied radiuses. Check for coordinates that are too far away from a road.
Not Authorized - No Token	401	No token was used in the query.
Not Authorized - Invalid Token	401	Check the access token you used in the query.
Forbidden	403	There may be an issue with your account. Check your Account page for more details.

In some cases, using an access tokens with URL restrictions can also result in a 403 error. For more information, see our Token management guide.
ProfileNotFound	404	Use a valid profile as described in the list of routing profiles.
InvalidInput	422	The given request was not valid. The message key of the response will hold an explanation of the invalid input.
Directions API restrictions and limits
Requests using the driving, driving-traffic, walking, and cycling profiles can specify up to 25 total waypoints (input coordinates that are snapped to the roads network) along the route. But, if using engine=electric, you can specify up to a total of 12 waypoints.
Traffic coverage for the driving-traffic profile is available in supported geographies. Requests to this profile revert to driving profile results for areas without traffic coverage.
Maximum 300 requests per minute.
Requests that contain multiple coordinates are counted as 1 request.
Maximum total distance between all waypoints:
10,000 kilometers for the driving and driving-traffic profiles.
10,000 kilometers for the cycling profile.
1,000 kilometers for the walking profile.
Inter-continental route requests are not supported.
Route requests through water bodies are not supported.
If you require a higher rate limit,contact us.
Directions API pricing
Billed by requests
See rates and discounts per Directions API request in the pricing page's Navigation section
Usage of the Directions API is measured in API requests. A request that contains multiple waypoints is billed as a single API request. Details about the number of Directions API requests included in the free tier and the cost per request beyond what is included in the free tier are available on the pricing page.

Map Matching API
On this page
Retrieve a match
Example request: Retrieve a match
Supported libraries: Retrieve a match
Response: Retrieve a match
Use HTTP POST to retrieve a match
Match object
Example match object
Tracepoint object
Example tracepoint object
Map Matching API errors
Map Matching API restrictions and limits
Map Matching API pricing
Map Matching API version
This documentation is for v5 of the Map Matching API. For information about the earlier version, see the v4 documentation or view the changelog.

The Mapbox Map Matching API snaps fuzzy, inaccurate traces from a GPS unit or a phone to the road and path network using the Directions API. This produces clean paths that can be displayed on a map or used for other analysis.

Turn-by-turn directions in the Map Matching API
The Map Matching API can also return a full directions response to queries using the optional steps parameter. If you plan use the Map Matching API to return turn-by-turn directions, note that it does not consider all road rules and traffic conditions. To access up-to-date traffic and road conditions for navigation purposes, use the Mapbox Directions API.

TUTORIAL
Get started with the Map Matching API
Create a web app that uses the Map Matching API to allow users to specify their own driving route.

Retrieve a match
get
https://api.mapbox.com/matching/v5/{profile}/{coordinates}.json
Return a path on the road and path network that is closest to the input traces.

Required parameters	Type	Description
profile	string	A Mapbox Directions routing profile ID.
Profile ID	Description
mapbox/driving	Car travel times, distances, or both.
mapbox/walking	Pedestrian and hiking travel times, distances, or both
mapbox/cycling	Bicycle travel times, distances, or both
mapbox/driving-traffic	Car travel times, distances, or both as informed by traffic data
coordinates	number or string	A semicolon-separated list of {longitude},{latitude} coordinate pairs to visit in order.
Or OpenLR encoded string where openlr_spec describes the used specification and openlr_format describes the binary format. OpenLR strings are useful when using routes built on platforms outside of Mapbox.
If specified as coordinate pairs there can be between 2 and 100 coordinates.
If specified as OpenLR string length, the OpenLR string can be not greater than 500 (which is 50 coordinates)
You can further refine the results from this endpoint with the following optional parameters:

Optional parameters	Type	Description
annotations	string	Return additional metadata along the route. You can include several annotations as a comma-separated list. Must be used in combination with overview=full.
Possible values	Description
distance	The distance between each pair of coordinates, in meters.
duration	The duration between each pair of coordinates, in seconds.
speed	The speed between each pair of coordinates, in meters per second.
congestion	The level of congestion between each entry in the array of coordinate pairs in the route leg. This annotation is only available for the mapbox/driving-traffic profile.
congestion_numeric	The numeric level of congestion between each entry in the array of coordinate pairs in the route leg. This annotation is only available for the mapbox/driving-traffic profile.
maxspeed BETA	The maximum speed limit between the coordinates of a segment. This annotation is only available for the mapbox/driving and mapbox/driving-traffic profiles.
See the route leg object for more details on what is included with annotations.
approaches	string	A semicolon-separated list indicating the side of the road from which to approach waypoints in a requested route. Accepts unrestricted (default, route can arrive at the waypoint from either side of the road) or curb (route will arrive at the waypoint on the driving_side of the region). If provided, the number of approaches must be the same as the number of waypoints. But, you can skip a coordinate and show its position in the list with the ; separator. If waypoints is not specified (so all coordinates are treated as waypoints), the list of approaches must be the same length as the list of coordinates. Must be used in combination with steps=true.
geometries	string	The format of the returned geometry. Allowed values are: geojson (as LineString), polyline (default, a polyline with precision 5), and polyline6 (a polyline with precision 6).
overview	string	The type of returned overview geometry. Can be full (the most detailed geometry available), simplified (default, a simplified version of the full geometry), or false (no overview geometry).
radiuses	number	A semicolon-separated list indicating the maximum distance a coordinate can be moved to snap to the road network, in meters. If provided, the number of radiuses must be the same as the number of coordinates. But, you can skip a coordinate and show its position in the list with the ; separator. Values can be a number between 0.0 and 50.00. Use higher numbers (20-50) for noisy traces and lower numbers (1-10) for clean traces. The default value is 5. A NoSegment error is returned if no routable road is located within the radius.
steps	boolean	Whether to return steps and turn-by-turn instructions (true) or not (false, default).

Setting steps to true will make the following guidance-related parameters available: banner_instructions, language, roundabout_exits, voice_instructions, voice_units, waypoint_names, and waypoints.
banner_instructions	boolean	Whether to return banner objects associated with the route steps (true) or not (false, default). Must be used in conjunction with steps=true.
language	string	The language of returned turn-by-turn text instructions. See supported languages. The default is en (English). Must be used in conjunction with steps=true.
roundabout_exits	boolean	Whether to emit instructions at roundabout exits (true) or not (false, default). Without this parameter, roundabout maneuvers are a single instruction that includes both entering and exiting the roundabout. With roundabout_exits=true, this maneuver becomes two instructions, one for entering the roundabout and one for exiting it. Must be used in conjunction with steps=true.
voice_instructions	boolean	Whether to return SSML marked-up text for voice guidance along the route (true) or not (false, default). Must be used in conjunction with steps=true.
voice_units	string	Specify which type of units to return in the text for voice instructions. Can be imperial (default), british_imperial or metric. Must be used in conjunction with steps=true and voice_instructions=true.
tidy	boolean	Whether to remove clusters and re-samples traces for improved map matching results (true) or not (false, default).
timestamps	number	A semicolon-separated list of numbers in Unix time (in other words, seconds since 1/1/1970 UTC) that correspond to each input coordinate. If provided, the number of timestamps must be the same as the number of coordinates, no coordinates can be skipped, and the timestamps must occur in ascending order. For best results, timestamps should have a sample rate of about 5 seconds.
waypoint_names	string	A semicolon-separated list of custom names for waypoints. These names will be used for the arrival instruction in banners and voice instructions. Values can be any string, and the total number of all characters (including semicolons) cannot exceed 500. The list of waypoint_names must be the same length as the list of waypoints, but you can skip a waypoint and show its position with the ; separator. If waypoints is not specified (so all coordinates are treated as waypoints), the list of waypoint_names must be the same length as the list of coordinates.
waypoints	integer	A semicolon-separated list indicating which input coordinates should be treated as waypoints. If a coordinate is treated as a waypoint, it receives arrival and departure events in the match object's route. If a list of waypoints is not provided, all coordinates are treated as waypoints. Each item in the list must be the zero-based index of an input coordinate, and the list must include 0 (the index of the first coordinate) and the index of the last coordinate. Waypoints are most useful in combination with steps=true and requests based on traces with high sample rates.
ignore	string	Ignore certain routing restrictions when map matching. You can include several ignore options as a comma-separated list (for example, ignore=access,oneways,restrictions).
Possible values	Description
access	Ignore access restrictions related to mode of travel.
oneways	Ignore one-way restrictions.
restrictions	Ignore other restrictions, such as time-based or turn restrictions.
This option is only available for the mapbox/driving profile.
linear_references	boolean	Returns map-agnostic location identifiers of the roads along a route. When true, a successful response will include a key linear_references, the value of which is an array of base64-encoded OpenLR location references, matched by the input trace. This option is only available for driving and driving-traffic profile.
openlr_spec	string	The logical format for OpenLR encoded coordinates translates to how OpenLR attributes are being interpreted. Some data providers may use a different logical data format, as in the same attributes (FRC, FOW) may be interpreted differently.
Possible values	Description
tomtom	Based on TomTom OpenLR location references,. Read p. 31-40 to learn more about the specification.
here	Based on HERE/TPEG2 specification
The default is tomtom.
This option is only available if coordinates are provided as OpenLR encoded string.
openlr_format	string	Binary format for OpenLR encoded coordinates translates to how an OpenLR input is encoded.
Possible values	Description
tomtom	Based on TomTom OpenLR location references,. Read p. 43-52 to learn more about the binary format.
The default is tomtom.
This option is only available if coordinates are provided as OpenLR encoded string.
depart_at	string	The departure time from the first coordinates, formatted in one of three ISO 8601 formats: YYYY-MM-DDThh:mm:ssZ, YYYY-MM-DDThh:mmssÂ±hh:mm, or YYYY-MM-DDThh:mm. In the last format, the timezone is calculated from the first coordinates. If not provided then depart_at is considered to be the present time in the local timezone of the first coordinates. The map-matched route and duration will reflect traffic conditions based on the depart_at time.
Some processing tips to achieve the best results:

Timestamps improve the quality of the matching and are highly recommended.
The Map Matching API is limited to processing traces with up to 100 coordinates. If you need to process longer traces, you can split the trace and make multiple requests.
Clusters of points (like a person waiting at a train crossing for a few minutes) often don't add more information to a trace and can negatively impact map-matching quality. We recommend that you tidy the trace (remove clusters and provide a uniform sample rate). You can use the tidy=true query parameter or process your traces with external tools like geojson-tidy.
Map matching works best with a sample rate of 5 seconds between points. If your trace has a higher sample rate, you may want to downsample your trace.
With the waypoints parameter specified, traces that would normally return with sub-matches will error. We recommend tidying traces before using them with the waypoints parameter.
Example request: Retrieve a match
# Basic request that returns a match object with route legs between each waypoint

curl "https://api.mapbox.com/matching/v5/mapbox/driving/-117.17282,32.71204;-117.17288,32.71225;-117.17293,32.71244;-117.17292,32.71256;-117.17298,32.712603;-117.17314,32.71259;-117.17334,32.71254?access_token=YOUR_MAPBOX_ACCESS_TOKEN"

# Request to access speed limit information using the maxspeed annotation

curl "https://api.mapbox.com/matching/v5/mapbox/driving/-122.39636,37.79129;-122.39732,37.79283;-122.39606,37.79349?annotations=maxspeed&overview=full&geometries=geojson&access_token=YOUR_MAPBOX_ACCESS_TOKEN"

# Request with the approaches parameter set to 'curb' for each waypoint

curl "https://api.mapbox.com/matching/v5/mapbox/driving/-117.17282,32.71204;-117.17288,32.71225;-117.17293,32.71244;-117.17292,32.71256?approaches=curb;curb;curb;curb&access_token=YOUR_MAPBOX_ACCESS_TOKEN"


# Request with various parameters, returns a match object with one route leg between the first and last waypoints

curl "https://api.mapbox.com/matching/v5/mapbox/driving/2.344003,48.85805;2.34675,48.85727;2.34868,48.85936;2.34955,48.86084;2.34955,48.86088;2.34962,48.86102;2.34982,48.86125?steps=true&tidy=true&waypoints=0;6&waypoint_names=Home;Work&banner_instructions=true&access_token=YOUR_MAPBOX_ACCESS_TOKEN"

# Request with openlr encoded string as coordinates used `tomtom` specification, return the same response the same as for regular coordinates

curl "https://api.mapbox.com/matching/v5/mapbox/driving/CwOiYCUMoBNWAv9P%2F%2BMSBg%3D%3D?openlr_spec=tomtom&openlr_format=tomtom&access_token=YOUR_MAPBOX_ACCESS_TOKEN"

# Request with openlr encoded string as coordinates used `here` specification

curl "https://api.mapbox.com/matching/v5/mapbox/driving/Cwe2%2BiJmURNhMPlvCBAbbAAA?openlr_spec=here&access_token=YOUR_MAPBOX_ACCESS_TOKEN"


URL encoding of OpenLR references
When submitting API requests containing OpenLR references, you must URL encode the reference before passing it in as a parameter. OpenLR references contain unsafe ASCII characters like /, +, and = which must be encoded to produce a valid URL. See W3Schools' page on URL encoding for help with encoding unsafe ASCII characters.

Supported libraries: Retrieve a match
Mapbox wrapper libraries help you integrate Mapbox APIs into your existing application. The following SDKs support this endpoint:

Mapbox Directions for Swift
Mapbox Java SDK
Mapbox JavaScript SDK
See the SDK documentation for details and examples of how to use the relevant methods to query this endpoint.

Response: Retrieve a match
The match response object contains one or more match objects, as well as one or more tracepoint objects.

Property	Type	Description
code	string	A string indicating the state of the response. The potential values are listed in the Map Matching status codes section.
matchings	array	An array of match objects.
tracepoints	array	An array of tracepoint objects that represent the location an input point was matched with, in the order in which they were matched. If a trace point is omitted by the Map Matching API because it is an outlier, the entry will be null.
With clean matches, only one match object is returned. When the algorithm cannot decide the correct match between two points, it will omit that line and return several sub-matches as match objects. The higher the number of sub-match match objects, the more likely it is that the input traces are poorly aligned to the road network.

Example response: Retrieve a match
{
  "matchings": [
    {
      "confidence": 4.615758886217236e-10,
      "geometry": {
        "coordinates": [
          [-122.397484, 37.792809],
          [-122.39746, 37.792693],
          [-122.39745, 37.792645],
          [-122.397437, 37.792586],
          [-122.397431, 37.792558],
          [-122.39741, 37.792466],
          [-122.397404, 37.79244],
          [-122.397225, 37.792579],
          [-122.396623, 37.793057],
          [-122.39636, 37.793276],
          [-122.396075, 37.793502]
        ],
        "type": "LineString"
      },
      "legs": [
        {
          "annotation": {
            "maxspeed": [
              {
                "speed": 48,
                "unit": "km/h"
              },
              {
                "speed": 48,
                "unit": "km/h"
              },
              {
                "speed": 48,
                "unit": "km/h"
              },
              {
                "speed": 48,
                "unit": "km/h"
              },
              {
                "speed": 48,
                "unit": "km/h"
              },
              {
                "speed": 48,
                "unit": "km/h"
              },
              {
                "unknown": true
              },
              {
                "unknown": true
              },
              {
                "unknown": true
              },
              {
                "unknown": true
              }
            ]
          },
          "summary": "",
          "weight": 153.6,
          "duration": 73.6,
          "steps": [],
          "distance": 207.8
        }
      ],
      "weight_name": "routability",
      "weight": 153.6,
      "duration": 73.6,
      "distance": 207.8
    }
  ],
  "tracepoints": [
    null,
    {
      "alternatives_count": 0,
      "waypoint_index": 0,
      "matchings_index": 0,
      "distance": 14.635568381812668,
      "name": "Davis Street",
      "location": [-122.397484, 37.792809],
      "maxspeed": {
        "speed": 48,
        "unit": "km/h"
      }
    },
    {
      "alternatives_count": 1,
      "waypoint_index": 1,
      "matchings_index": 0,
      "distance": 1.8762601659793365,
      "name": "Market Street",
      "location": [-122.396075, 37.793502],
      "maxspeed": {
        "unknown": true
      }
    }
  ],
  "code": "Ok"
}
Use HTTP POST to retrieve a match
The Map Matching API also supports access using the HTTP POST method. HTTP POST should be used for large requests, since the Map Matching API has a size limit of approximately 8100 bytes on GET request URLs. POST requests are still subject to your account's request size limits.

Learn more about this process in the Using HTTP POST section.

Match object
A match object is a route object with an additional confidence field:

Property	Type	Description
confidence	number	The level of confidence in the returned match, from 0 (low) to 1 (high).
distance	number	The distance traveled, in meters.
duration	number	The estimated travel time, in seconds.
weight	number	The weight in units described by weight_name.
weight_name	string	The weight used. The default is routability, which is duration-based, with additional penalties for less desirable maneuvers.
geometry	string	Depending on the geometries parameter in the request, this is a GeoJSON LineString or a Polyline string. Depending on the overview parameter in the request, this is the complete route geometry (full), a simplified geometry to the zoom level at which the route can be displayed in full (simplified), or is not included (false).
legs	array	An array of route leg objects.
voice_locale

(Requires steps=true)	string	The locale used for voice instructions. Defaults to en (English). See supported languages.
linear_references	array	An array of base64-encoded OpenLR location references, one for each graph edge of the road network matched by the input trace. This key is optional, and present only when linear_references=true in the request.
Example match object
{
  "confidence": 0.9548844020537051,
  "distance": 103.7,
  "duration": 16.4,
  "geometry": "gatfEfidjUi@Le@@Y?E??J?^Hf@",
  "legs": []
}
Tracepoint object
A tracepoint object is a waypoint object with three additional fields: matchings_index, waypoint_index, and alternatives_count.

Property	Type	Description
matchings_index	integer	The index of the match object in matchings that the sub-trace was matched to.
waypoint_index	integer	The index of the waypoint inside the matched route.
alternatives_count	integer	The number of probable alternative matchings for this trace point. A value of 0 indicates that this point was matched unambiguously. Split the trace at these points for incremental map matching.
name	string	The name of the road or path the coordinate snapped to.
location	array	An array that contains the location of the snapped coordinate, in the format [longitude, latitude].
Example tracepoint object
{
  "waypoint_index": 0,
  "location": [-117.172836, 32.71204],
  "name": "North Harbor Drive",
  "matchings_index": 0,
  "alternatives_count": 0
}
Map Matching API errors
On error, the server responds with different HTTP status codes:

For responses with HTTP status codes lower than 500, the JSON response body includes the code property, which may be used by client programs to manage control flow. The response body may also include a message property, with a human-readable explanation of the error.
If a server error occurs, the HTTP status code will be 500 or higher and the response will not include a code property.
Response body code	HTTP status code	Description
Ok	200	Normal case
NoMatch	200	The input did not produce any matches, or the waypoints requested were not found in the resulting match. features will be an empty array.
NoSegment	200	No road segment could be matched for one or more coordinates within the supplied radiuses. Check for coordinates that are too far away from a road.
Not Authorized - No Token	401	No token was used in the query.
Not Authorized - Invalid Token	401	Check the access token you used in the query.
Forbidden	403	There may be an issue with your account. Check your Account page for more details.

In some cases, using an access tokens with URL restrictions can also result in a 403 error. For more information, see our Token management guide.
TooManyCoordinates	422	There are more than 100 points in the regular request, or more than 50 points for OpenLR input.
ProfileNotFound	404	Needs to be a valid profile (mapbox/driving, mapbox/driving-traffic, mapbox/walking, or mapbox/cycling).
InvalidInput	422	message will hold an explanation of the invalid input.
Map Matching API restrictions and limits
The Map Matching API is limited to 300 requests per minute.
Each regular request can have a maximum of 100 coordinates.
Each OpenLR request can have a maximum of 50 coordinates.
Results must be displayed on a Mapbox map using one of the Mapbox libraries or SDKs.
If you require a higher rate limit,contact us.
Map Matching API pricing
Billed by requests
See rates and discounts per Map Matching API request in the pricing page's Navigation section
Usage of the Map Matching API is measured in API requests. A request that contains multiple waypoints is billed as a single API request. Details about the number of Map Matching API requests included in the free tier and the cost per request beyond what is included in the free tier are available on the pricing page.


Isochrone API
On this page
Retrieve isochrones around a location
Example request: Retrieve isochrones around a location
Response: Retrieve isochrones around a location
Example response: Retrieve isochrones around a location
Supported libraries: Retrieve isochrones around a location
Isochrone API errors
Isochrone API restrictions and limits
Isochrone API pricing
An isochrone, from the Greek root words iso (equal) and chrone (time), is a line that connects points of equal travel time around a given location. The Mapbox Isochrone API computes areas that are reachable within a specified amount of time from a location, and returns the reachable regions as contours of polygons or lines that you can display on a map. This API also supports contours based on distance.

With the Isochrone API, you can:

Calculate isochrones up to 60 minutes using driving, cycling, or walking profiles
Define delivery or service zones based on travel times from a starting location
Illustrate travel times on a map with lines or polygons
Create geofences to trigger location-aware user experiences, notifications, or events
PLAYGROUND
Isochrone API playground
Build an Isochrone API request and see the reachable areas from a location on a map.

TUTORIAL
Get started with the Isochrone API
Use the Isochrone API to build a web app that helps users estimate how far they can travel by foot, bicycle, or car within a set amount of time.

Retrieve isochrones around a location
get
https://api.mapbox.com/isochrone/v1/{profile}/{coordinates}?{contours_minutes|contours_meters}
Given a location and a routing profile, retrieve up to four isochrone contours. The contours are calculated using rasters and are returned as either polygon or line features, depending on your input setting for the polygons parameter.

Required parameters	Type	Description
profile	string	A Mapbox Directions routing profile ID. Options are:
Profile ID	Description
mapbox/driving-traffic	For fastest travel by car using current and historic traffic conditions. Traffic information is available for the supported geographies listed in our Traffic Data page.
mapbox/driving	For fastest travel by car using average conditions.
mapbox/walking	For fastest travel by pedestrian and hiking travel paths.
mapbox/cycling	For fastest travel by bicycle.
coordinates	number	A {longitude,latitude} coordinate pair around which to center the isochrone lines.
contours_minutes	integer	The times, in minutes, to use for each isochrone contour. You can specify up to four contours. Times must be in increasing order. The maximum time that can be specified is 60 minutes.
contours_meters	integer	The distances, in meters, to use for each isochrone contour. You can specify up to four contours. Distances must be in increasing order. The maximum distance that can be specified is 100000 meters (100km).
You can further refine the results from this endpoint with the following optional parameters:

Optional parameters	Type	Description
contours_colors	string	The colors to use for each isochrone contour, specified as hex values without a leading # (for example, ff0000 for red). If this parameter is used, there must be the same number of colors as there are entries in contours_minutes or contours_meters. If no colors are specified, the Isochrone API will assign a default rainbow color scheme to the output.
polygons	boolean	Specify whether to return the contours as GeoJSON polygons (true) or linestrings (false, default). When polygons=true, any contour that forms a ring is returned as a polygon.
denoise	number	A floating point value from 0.0 to 1.0 that can be used to remove smaller contours. The default is 1.0. A value of 1.0 will only return the largest contour for a given value. A value of 0.5 drops any contours that are less than half the area of the largest contour in the set of contours for that same value.
generalize	number	A positive floating point value, in meters, used as the tolerance for Douglas-Peucker generalization specified for each contour. There is no upper bound. If no value is specified in the request, the Isochrone API will choose the most optimized generalization to use for the contours. If multiple contours are requested but only one generalize value is specified then this value is used for all contours. Note that the generalization of contours can lead to self-intersections, as well as intersections of adjacent contours.
exclude	string	Exclude certain road types and custom locations from routing. Default is to not exclude anything from the list below. You can specify multiple values as a comma-separated list. The following exclude values are available:
Possible values	Description
motorway	Exclude highways or motorways. Available in mapbox/driving and mapbox/driving-traffic profiles.
toll	Exclude roads with tolls. Available in mapbox/driving and mapbox/driving-traffic profiles.
ferry	Exclude ferry rides across waterways. Available in mapbox/driving and mapbox/driving-traffic profiles.
unpaved	Exclude dirt roads or track. Available in mapbox/driving and mapbox/driving-traffic profiles.
cash_only_tolls	Exclude roads with tolls that accept only cash. Available in mapbox/driving and mapbox/driving-traffic profiles.
depart_at	string	The departure time from the given coordinates. Formatted in one of three ISO 8601 formats: YYYY-MM-DDThh:mm:ssZ, YYYY-MM-DDThh:mmssÂ±hh:mm, or YYYY-MM-DDThh:mm. In the last format, the timezone is calculated from the given coordinates. If not provided then depart_at is considered to be the present time in the local timezone of the coordinates. The isochrone contours will reflect traffic conditions at the time provided.
Example request: Retrieve isochrones around a location
curl "https://api.mapbox.com/isochrone/v1/mapbox/driving/-118.22258,33.99038?contours_minutes=5,10,15&contours_colors=6706ce,04e813,4286f4&polygons=true&access_token=YOUR_MAPBOX_ACCESS_TOKEN"
Response: Retrieve isochrones around a location
In the response to a request to the Mapbox Isochrone API, the isochrone contours are returned as a GeoJSON Feature Collection. Each feature object in the Feature Collection is an isochrone, and contains the following properties:

Property	Type	Description
type	string	"Feature", a GeoJSON type from the GeoJSON specification.
properties	object	An object that describes the properties used for drawing the isochrone.
properties.contour	integer	the value of the metric used in this contour. See the metric property to determine whether this is a time or distance contour.
properties.color	string	The color of the isochrone line if the geometry property is Linestring.
properties.opacity	number	The opacity of the isochrone line if the geometry property is Linestring.
properties.fill	string	The fill color of the isochrone polygon if the geometry property is Polygon, suitable for use in geojson.io.
properties.fill-opacity	number	The fill opacity of the isochrone polygon if the geometry property is Polygon, suitable for use in geojson.io.
properties.fillColor	string	The fill color of the isochrone polygon if the geometry property is Polygon, suitable for use in Leaflet.
properties.fillOpacity	number	The fill opacity of the isochrone polygon if the geometry property is Polygon, suitable for use in Leaflet.
properties.metric	string	The metric that the contour is - either distance or time.
geometry	object	An object that describes the geometry of the isochrone.
geometry.coordinates	array	An array of arrays that contain the coordinates for the isochrone, formatted as [longitude,latitude].
geometry.type	string	The GeoJSON type of the returned geometry. Either "Linestring" (default) or "Polygon" (if polygons=true was specified in the query).
Example response: Retrieve isochrones around a location
{
  "features": [
    {
      "properties": {
        "contour": 15,
        "color": "#4286f4",
        "opacity": 0.33,
        "fill": "#4286f4",
        "fill-opacity": 0.33,
        "fillColor": "#4286f4",
        "fillOpacity": 0.33
      },
      "type": "Feature",
      "geometry": {
        "coordinates": ["arrays of longitude, latitude coordinates"],
        "type": "Polygon"
      }
    },
    {
      "properties": {
        "contour": 10,
        "color": "#04e813",
        "opacity": 0.33,
        "fill": "#04e813",
        "fill-opacity": 0.33,
        "fillColor": "#04e813",
        "fillOpacity": 0.33
      },
      "type": "Feature",
      "geometry": {
        "coordinates": ["arrays of longitude, latitude coordinates"],
        "type": "Polygon"
      }
    },
    {
      "properties": {
        "contour": 5,
        "color": "#6706ce",
        "opacity": 0.33,
        "fill": "#6706ce",
        "fill-opacity": 0.33,
        "fillColor": "#6706ce",
        "fillOpacity": 0.33
      },
      "type": "Feature",
      "geometry": {
        "coordinates": ["arrays of longitude, latitude coordinates"],
        "type": "Polygon"
      }
    }
  ],
  "type": "FeatureCollection"
}
Supported libraries: Retrieve isochrones around a location
Mapbox wrapper libraries help you integrate Mapbox APIs into your existing application. The following SDK supports this endpoint:

Mapbox Ruby SDK
See the SDK documentation for details and examples of how to use the relevant methods to query this endpoint.

Isochrone API errors
On error, the server responds with different HTTP status codes:

For responses with HTTP status codes lower than 500, the JSON response body includes the code property, which may be used by client programs to manage control flow. The response body may also include a message property, with a human-readable explanation of the error.
If a server error occurs, the HTTP status code will be 500 or higher and the response will not include a code property.
Response body message	HTTP status code	Description
Could not find a matching segment for input coordinates	200	No road segment could be matched for coordinates. Check for coordinates that are too far away from a road.
No route found	200	There was no route found for the given coordinates. Check for impossible routes (for example, routes over oceans without ferry connections).
Not Authorized - No Token	401	No token was used in the query.
Not Authorized - Invalid Token	401	Check the access token you used in the query.
Forbidden	403	There may be an issue with your account. Check your Account page for more details.

In some cases, using an access tokens with URL restrictions can also result in a 403 error. For more information, see our Token management guide.
Not Found	404	Check the profile you used in the query, which must be one of mapbox/driving, mapbox/walking, or mapbox/cycling.
Latitude must be between -90 and 90	422	Check the coordinates used in the query.
Should have one of the required properties 'contours_minutes' or 'contours_meters'	422	The query must include one of the contours_minutes or contours_meters parameters.
contours_minutes must be an integer between 1 and 60	422	The contours_minutes specified in the query is larger than 60 or contains non-numeric characters.
contours_meters must be an integer between 1 and 100000	422	The contours_meters specified in the query is larger than 100000 or contains non-numeric characters.
contours_colors should be a hexadecimal	422	contours_colors must be specified as a hexadecimal color code.
You may only supply contours_minutes or contours_meters, not both	422	A single request may only contain one of contours_minutes or contours_meters.
Isochrone API restrictions and limits
The Isochrone API is limited to 300 requests per minute.
The Isochrone API supports 1 coordinate per request.
The Isochrone API can support a maximum of 4 isochrone contours per request.
The maximum time that can be specified for an isochrone contour is 60 minutes.
The maximum distance that can be specified for an isochrone contour is 100000 meters.
Results must be displayed on a Mapbox map using one of the Mapbox libraries or SDKs.
If you require a higher rate limit,contact us.
Isochrone API pricing
Billed by requests
See rates and discounts per Isochrone API request in the pricing page's Navigation section
Usage of the Isochrone API is measured in API requests. Details about the number of Isochrone API requests included in the free tier and the cost per request beyond what is included in the free tier are available on the pricing page.


Optimization API v2
On this page
Quick summary
Submit a routing problem
Example HTTP request
Example cURL request
202 Accepted
Retrieve a solution
Example HTTP request
Example cURL request
202 Accepted
200 OK
List submissions and their status
Example HTTP request
Example cURL request
200 OK
Routing problem document
Conventions
Overview
Version
Locations
Example request object - locations
Vehicles
Example request object - vehicles
Services
Example request objects - services
Shipments
Example request object - shipments
Options
Example request object - options
Solution document
Overview
Dropped
Routes
Example stop
Example solution
Optimization v2 API errors
Optimization v2 API restrictions and limits
Public Beta for the Optimization v2 API
Mapbox is launching a Beta program for the Optimization v2 API with many new features, including time window constraints, vehicle capacity limits, driver shifts, and pickup and drop off constraints.If you are interested in early access to the Optimization v2 API Beta, sign up here.

Optimization v1 API
This page documents the Optimization v2 API Beta functionality.If you would like to use the Optimization v1 here, documentation is available here.

The Optimization v2 API is an API for calculating efficient plans for vehicles to visit multiple locations. These are commonly known as vehicle routing problems.

The Optimization v2 API enables you to submit vehicle routing problems in the form of routing problem documents describing the number of vehicles in your fleet, locations to be visited, and other constraints that are relevant to your real-world problem. The API returns an optimized solution for your routing problem as a solution document that describes a route plan for each vehicle.

PLAYGROUND
Optimization API v2 playground
Describe pickup and drop off locations, specify shipments and vehicles, add all the related constraints - and see the optimized solution on a map.

Quick summary
POST to /optimized-trips/v2?access_token=YOUR_MAPBOX_TOKEN to submit a routing problem, and save the id from the JSON response.
GET from /optimized-trips/v2/{id}?access_token=YOUR_MAPBOX_TOKEN to check the status and receive the result when it is complete.
GET from /optimized-trips/v2?access_token=YOUR_MAPBOX_TOKEN to list all your account's submitted routing problems and their processing statuses.
Submit a routing problem
post
https://api.mapbox.com/optimized-trips/v2
To submit a routing problem, make a HTTP POST request with a Content-Type of application/json, and submit the routing problem document JSON as the POST body.

Example HTTP request
POST /optimized-trips/v2?access_token=YOUR_MAPBOX_ACCESS_TOKENHTTP/1.1
Host: api.mapbox.com
Content-Type: application/json

{
    "version": 1,
    "vehicles": [...],
    "services": [...]
}
Example cURL request
curl -H 'Content-Type: application/json'
     -d @problem.json
     'https://api.mapbox.com/optimized-trips/v2?access_token=YOUR_MAPBOX_ACCESS_TOKEN'
202 Accepted
The 202 response to a request is a JSON object that contains the following properties:

Property	Type	Description
id	string	This is a unique ID for the submitted request. Save this value. It is needed to retrieve the status and results of your submission.
status	string	This indicates whether the routing problem submission is pending, processing, or complete ("ok"). complete ("ok") indicates a successfully submitted routing problem, not a solved problem.
status_date	string	The date when the status was updated.
The 202 response body has a Content-Type of application/json, and looks similar to this:

HTTP/1.1 202 Accepted
Content-Type: application/json

{ 
    "id": "123e4567-e89b-12d3-a456-426655440000",
    "status": "ok"
}
The id value in this response is a unique ID for the request you submitted. Save this value, then use it to retrieve the status and results of your submission.

Optimization API errors
To learn about other responses for this API, see Optimization v2 API errors.

Retrieve a solution
get
https://api.mapbox.com/optimized-trips/v2/{id}
To retrieve a solution, you must have the id generated when the routing problem was submitted. If you did not save the id for your submission, you can retrieve a list of all your submissions to find the id.

Refer to the solution document section to better understand the solutions that you receive from the Optimization v2 API.

Example HTTP request
GET /optimized-trips/v2/123e4567-e89b-12d3-a456-426655440000?access_token=YOUR_MAPBOX_ACCESS_TOKEN
Content-Type: application/json
Host: api.mapbox.com
Example cURL request
curl "https://api.mapbox.com/optimized-trips/v2/YOUR_JOB_ID?access_token=YOUR_MAPBOX_ACCESS_TOKEN"
202 Accepted
No solution is available for your routing problem yet. The request is either waiting to be processed or is processing.

200 OK
This response means that the solution has been posted. The body of the HTTP response is the solution JSON document.

{
  "dropped": {
    "services": [],
    "shipments": []
  },
  "routes": [
    {
      "vehicle": "truck-1",
      "stops": [
        {
          "location": "warehouse",
          "eta": "2022-01-01T09:00:00Z",
          "type": "start",
          "wait": 0,
          "odometer": 0
        },
        {
          "location": "stop-3",
          "eta": "2022-01-01T09:01:12Z",
          "type": "dropoff",
          "duration": 0,
          "wait": 0,
          "odometer": 381
        },
        {
          "location": "stop-2",
          "eta": "2022-01-01T09:01:36Z",
          "type": "dropoff",
          "duration": 0,
          "wait": 0,
          "odometer": 487
        },
        {
          "location": "stop-1",
          "eta": "2022-01-01T09:01:53Z",
          "type": "dropoff",
          "duration": 0,
          "wait": 0,
          "odometer": 587
        },
        {
          "location": "warehouse",
          "eta": "2022-01-01T09:02:28Z",
          "type": "end",
          "odometer": 762
        }
      ]
    }
  ]
}
List submissions and their status
get
https://api.mapbox.com/optimized-trips/v2
You can fetch a list of all the routing problems you have submitted along with their current processing statuses. To do so, make a HTTP GET request against the base URL.

Example HTTP request
GET /optimized-trips/v2?access_token=YOUR_MAPBOX_ACCESS_TOKEN
Content-Type: application/json
Host: api.mapbox.com
Example cURL request
curl --request GET
  --url 'https://api.mapbox.com/optimized-trips/v2?access_token=YOUR_MAPBOX_ACCESS_TOKEN'
  --header 'Content-Type: application/json'
200 OK
You will receive a JSON response body that is structured as follows:

[
  { "id": "123e4567-e89b-12d3-a456-426655440000", "status": "processing" },
  { "id": "123e4567-e89b-12d3-a456-426655440001", "status": "complete" }
]
The values for id are the unique IDs generated each time a routing problem is submitted successfully. Use the id to retrieve a solution for one of your submitted routing problems.

Routing problem document
Routing problems are JSON documents with a defined schema.

Conventions
All time values are in ISO 8601 format. For example, 2023-07-22T14:29:23.123-0700. Time zones are supported. Milliseconds are accepted, but ignored.
Duration values are in seconds.
Distance values are in meters.
Overview
The root object in the routing problem document contains five elements:

{
    "version": 1,
    "locations": [...],
    "vehicles": [...],
    "services": [...],
    "shipments": [...]
}
Each of these root elements is described in a separate section below.

Version
Required. This object describes the schema version of the routing problem document.  Only the value 1 (as a number) is supported.

Locations
Required. A location is a physical point in space that needs to be visited by the vehicles in your routing problem. You must refer to a location from services or shipments for a location to be visited.

Field	Description
name	Required. The unique name of a location. This name is used by other objects when they refer to a place.
coordinates	Required. An array of two numbers representing a location in "longitude,latitude" order.
Example request object - locations
"locations": [
    {
        "name": "123 Address Street",
        "coordinates": [ -122.1234, 37.812 ],
    }
]
Vehicles
Required. A vehicle is a car, truck, or similar machine that travels between your defined locations. You need to add at least one vehicle to generate a solution.

Field	Description
name	Required. The unique name of a vehicle. The name is displayed in the solution document.
routing_profile	Optional. Defines which profile to use to calculate travel times/distances for this vehicle. The default value is mapbox/driving.

Valid values include: mapbox/driving, mapbox/driving-traffic, mapbox/cycling, mapbox/walking.These correspond to the profiles available on a Mapbox Directions routing profile.
start_location	Optional. The location where the vehicle should start its route. If not supplied, the vehicle starts at a location that minimizes the route according to the objectives that you set.
end_location	Optional. The location where the vehicle should end its route. If not supplied, the vehicle finishes at a location that minimizes the route according to the objectives that you set.
capacities	Optional. How many units of an item can be carried by a vehicle. You can define as many capacities as needed. When you define shipments, you can describe how many units of each capacity these shipments require. The optimizer ensures that a vehicle's capacity is never exceeded.
capabilities	Optional. The capabilities of a vehicle. When defining shipments, you can require that only vehicles with certain capabilities should serve those locations.
earliest_start	Optional. The earliest time this vehicle can start operating.
latest_end	Optional. The latest time this vehicle can finish operating.
breaks	Optional. Define when mandated breaks for vehicles can begin and end, and how long a break can last.  An array of required objects with earliest_start (timestamp string), latest_end (timestamp string), and duration (integer seconds) properties.
loading_policy	Optional. How packages must be loaded/unloaded from the vehicle. For example, packages loaded onto the vehicle first cannot be unloaded until the packages loaded later are unloaded. Valid values include any, fifo, and lifo. FIFO loading is "first in, first out", which means packages picked up first must be dropped off first. LIFO is "last in, first out", which means packages picked up last must be dropped off first.  The default value is any, which means there is no constraint on loading/unloading order for the vehicle.
Example request object - vehicles
"vehicles": [
    {
        "name": "truck-1",
        "routing_profile": "mapbox/driving",
        "start_location": "warehouse",
        "end_location": "warehouse",
        "capacities": {
            "volume": 3000,
            "weight": 1000,
            "boxes": 100
        },
        "capabilities": [
            "ladder",
            "refrigeration"
        ],
        "earliest_start": "2022-05-31T09:00:00Z",
        "latest_end": "2022-05-31T17:00:00Z",
        "breaks": [
            {
                "earliest_start": "2022-05-31T12:00:00Z",
                "latest_end": "2022-05-31T13:00:00Z",
                "duration": 1800
            }
        ]
    }
]
Services
Note
At least one of services or shipments is required to submit the routing problem document. If you define services, then shipments is optional.

Services are locations that need to be visited, but these visits do not consume or relieve any capacity of the vehicle. For example, a plumber performing house calls does not need to drop off or pick up any units.

Field	Description
name	Required. A unique name for a service. This could be an order ID or identifier generated by an upstream system.
location	Required. The location where a service is to be performed. This value should be the same as the value defined for the name field in locations.
duration	Optional. The amount of time (integer seconds) the vehicle needs to stop at a location to complete the service.
requirements	Optional. What capabilities are required at a location. Only vehicles that have these capabilities can do this service. You set the values related to requirements.
service_times	Optional. Define when a service can start and when it must be finished. This is useful when a location is only accessible at certain times, or when an appointment has been arranged. An array of objects with earliest (timestamp string) and latest (timestamp string) required.

Set type with one of the following values to define how strictly the time range needs to be adhered to: strict (default), soft, soft_start, or soft_end. Setting this value to soft allows the service to occur outside the window, but an increasing penalty is applied the further from the window it gets. soft_end permits deliveries to be late (but not early) and soft_start permits deliveries to be early (but not late).

If a service has a corresponding duration, your latest time limit should take this into account.  For example, if a service takes 60 seconds to complete, and the latest value is 19:00:00, the driver has to arrive by 18:59:00 to meet the constraint. Maximum of 1 service time may be supplied.
Example request objects - services
"services": [
    {
        "name": "work-order-1234",
        "location": "123 Address Street",
        "duration": 300,
        "requirements": [
            "ladder"
        ],
        "service_times": [
            {
                "earliest": "2022-05-31T13:00:00Z",
                "latest": "2022-05-31T14:00:00Z",
                "type": "soft"
            }
        ]
    }
]
Shipments
Note
At least one of shipments or services is required to submit the routing problem document. If you define shipments, then services is optional.

Shipments are the items that need to be picked up at one location and delivered to another. Shipments have dimensions like size, weight, and units), and they consume capacity in the vehicles that carry them.

Field	Description
name	Required.  A unique name for a shipment. This could be an order ID or identifier generated by an upstream system.
from	Required. The location where the shipment must be picked up. This value must be the same as a value defined for the name field in locations.
to	Required. The location where the location must be delivered. This value must be the same as a value defined for the name field in locations.
size	Optional. How many units of capacity a shipment consumes in a vehicle. The units are released at the drop off location. A vehicle must have all the capacity units defined  to do a pickup/drop off.
requirements	Optional. Capabilities that a vehicle needs to do a pickup/drop off.
pickup_duration	Optional. How long it takes to do the pickup. The default value is 0.
dropoff_duration	Optional. How long it takes to do the drop off. The default value is 0.
pickup_times	Optional. Define the time ranges when it is possible to do the pickup. Maximum of 1 pickup time window may be supplied.
dropoff_times	Optional. Define the time ranges when it is possible to do the drop off. Maximum of 1 drop off time window may be supplied.
Example request object - shipments
"shipments": [
{
    "name": "order-1234",
    "from": "warehouse",
    "to": "123 Address Street",
    "size": {
        "weight": 30,
        "volume": 100,
        "boxes": 3
    },
    "requirements": [
        "refrigeration"
    ],
    "pickup_duration": 60,
    "dropoff_duration": 60,
    "pickup_times": [
        {
            "earliest": "2022-05-31T09:15:00Z",
            "latest": "2022-05-31T09:30:00Z",
            "type": "strict"
        }
    ],
    "dropoff_times": [
        {
            "earliest": "2022-05-31T10:15:00Z",
            "latest": "2022-05-31T10:30:00Z",
            "type": "soft_end"
        }
    ]
}]
Options
Optional. This object enables you to choose how to solve your routing problem.

Field	Description
objectives	Optional. An array of length 1 where can specify one of two routing objectives: minimize the total time traveled by the fleet (min-total-travel-duration), or minimize the length of the longest schedule in the fleet (min-schedule-completion-time). In practice, min-schedule-completion-time also improves shipment delivery times and increases fleet use by splitting routes when extra capacity is available. You may only specify one of these objectives.
Example request object - options
"options": {
    "objectives": ["min-schedule-completion-time"]
}
Solution document
Overview
The root document has two elements: any shipments or services that are not included in the solution, and the routes for each vehicle.

{
    "dropped": {
        "shipments": [...],
        "services": [...]
    },
    "routes": [
        {
            "vehicle": "name",
            "stops": [...]
        },
        ...
    ]
}
Dropped
This property lists shipments and services that are not included in the solution. This can occur when the optimization engine cannot find a solution, but by dropping a shipment or service from consideration, the engine can find a solution. If all shipments and services are solved, these lists are empty.

Routes
A route is a sequence of stops to be visited by a single vehicle. The vehicle property is the name of the vehicle as defined in your routing problem document. The stops array describes the list and order of stops that the vehicle for the route should visit.

Field	Description
type	Required. The kind of stop for each location. Valid values include start, service, pickup, dropoff, break, and end.
location	Required. The name of the location where a stop occurs.
eta	Required. The expected time of arrival at a location.
odometer	Required. How far you should have traveled when you arrive at this stop. Not present on break type stops.
wait	Optional. How long you should wait before proceeding to the next stop. This value is >0 when you are scheduled to arrive too early for the next stop's service time range. Not present on end type stops.
duration	Optional. How long a vehicle needs to stop at a location to complete the service. The duration of a stop is measured in seconds.
For stops of type service, pickup, and dropoff, there is an extra field called services, pickups, or dropoffs. This field contains an array of the names of the services, pickups, or deliveries to be completed at that location, in the order they should be completed.

Example stop
{
  "type": "service",
  "services": ["service-1"],
  "location": "location-1",
  "eta": "2022-08-02T09:15:00Z",
  "odometer": 17.2,
  "wait": 0
}
Example solution
{
  "dropped": {
    "services": ["service-3", "service-4"],
    "shipments": []
  },
  "routes": [
    {
      "vehicle": "xyz",
      "stops": [
        {
          "type": "depart",
          "location": "warehouse",
          "eta": "2022-08-02T09:00:00Z",
          "odometer": 0
        },
        {
          "type": "service",
          "location": "location-1",
          "services": ["service-1"],
          "eta": "2022-08-02T14:42:00Z",
          "odometer": 100,
          "wait": 300
        },
        { "type": "break", "eta": "2022-08-02T14:42:00Z", "wait": 3600 },
        {
          "type": "service",
          "services": ["service-2"],
          "location": "location-2",
          "eta": "2022-08-02T15:42:00Z",
          "wait": 0,
          "odometer": 200
        },
        {
          "type": "arrive",
          "location": "warehouse",
          "eta": "2022-08-02T20:24:00Z",
          "odometer": 300
        }
      ]
    }
  ]
}
Optimization v2 API errors
Response body code	HTTP status code	Description
OK	200	The solution has been posted. The body of the HTTP response is the solution JSON document.
Accepted	202	The problem was submitted successfully. The id should be saved so that you can retrieve the solution.
Unauthorized	401	YOUR_MAPBOX_ACCESS_TOKEN is not valid. Your account might not have the needed permissions to access the Optimization v2 API.

If you are interested in early access to the Optimization v2 API Beta, sign up here.
Not found	404	No submission was found that belongs to the account linked to the access token used. Check the id and your account token before trying again.
Unacceptable	422	The request is not formatted properly.
Optimization v2 API restrictions and limits
Maximum of 300 routing problems submitted per minute
Maximum of 60 list submissions requests per minute
Maximum of 60 solutions status requests per minute
Maximum number of 1000 locations per routing problem
If you require a higher rate limit,contact us.
Was this page helpful?
Matrix API
On this page
Retrieve a matrix
Example request: Retrieve a matrix
Response: Retrieve a matrix
Example response: Retrieve a matrix
Supported libraries: Retrieve a matrix
Matrix API errors
Matrix API restrictions and limits
Matrix API pricing
The Mapbox Matrix API returns travel times between many points.

For example, given three locations A, B, and C, the Matrix API will return a matrix of all travel times in seconds between the locations:

A	B	C
A	A â†’ A	A â†’ B	A â†’ C
B	B â†’ A	B â†’ B	B â†’ C
C	C â†’ A	C â†’ B	C â†’ C
The Matrix API will always return the duration or the distance on the fastest route for each element in the matrix, where an element is an origin-destination pair in the matrix. The Matrix API returns durations in seconds and distances in meters. It does not return route geometries.

Durations or distances between points may not be symmetric, since the routes may differ by direction due to one-way streets or turn restrictions. For example, A to B may have a different duration than B to A.

The Matrix API allows you to efficiently check the reachability of coordinates from each other, filter points by travel time, or run your own algorithms for solving optimization problems.

PLAYGROUND
Matrix API Playground
Create a matrix, make API queries and visualize the response to the Matrix API.

Retrieve a matrix
get
https://api.mapbox.com/directions-matrix/v1/{profile}/{coordinates}
Returns a duration matrix, a distance matrix, or both, showing travel times and distances between coordinates.

In the default case, this endpoint returns a symmetric matrix that uses all the input coordinates as sources and destinations (NÃ—N). Using the optional sources and destination parameters, you can also generate an asymmetric matrix that uses only some coordinates as sources or destinations: one to many (1Ã—N), many to one (NÃ—1), and several to several (MÃ—N). To learn more about how to use these parameters to create each of these matrix types, experiment with the sources and destinations parameters in the Matrix API Playground.

Required parameters	Type	Description
profile	string	A Mapbox Directions routing profile ID.
Profile ID	Description
mapbox/driving	Car travel times, distances, or both.
mapbox/walking	Pedestrian and hiking travel times, distances, or both
mapbox/cycling	Bicycle travel times, distances, or both
mapbox/driving-traffic	Car travel times, distances, or both as informed by traffic data
coordinates	number	A semicolon-separated list of {longitude},{latitude} coordinates. There must be between two and 25 coordinates. For the mapbox/driving-traffic profile, the maximum is 10 coordinates.
You can further refine the results from this endpoint with the following optional parameters:

Optional parameters	Type	Description
annotations	string	Used to specify the resulting matrices. Possible values are: duration (default), distance, or both values separated by a comma.
approaches	string	A semicolon-separated list indicating the side of the road from which to approach waypoints in a requested route. Accepts unrestricted (default, route can arrive at the waypoint from either side of the road) or curb (route will arrive at the waypoint on the driving_side of the region). If provided, the number of approaches must be the same as the number of waypoints. But, you can skip a coordinate and show its position in the list with the ; separator.
bearings	string	A semicolon-separated list of headings and allowed deviation indicating the direction of movement. Used to filter the road segment a waypoint will be placed on by the deviceâ€™s orientation. This is useful for making sure new routes of rerouted vehicles continue traveling in their desired direction. Input as two comma-separated values per location: a heading course measured clockwise from true north between 0 and 360, and the range of degrees by which the angle can deviate (recommended value is 45Â° or 90Â°), formatted as {angle, degrees}. If provided, the number of provided bearings must equal the number of locations; you can skip a coordinate and show its position in the list with the â€˜;â€™ separator.
destinations	integer or string	Use the coordinates at a given index as destinations. Possible values are: a semicolon-separated list of 0-based indices, or all (default). The option all allows using all coordinates as destinations.
sources	integer or string	Use the coordinates at a given index as sources. Possible values are: a semicolon-separated list of 0-based indices, or all (default). The option all allows using all coordinates as sources.
fallback_speed LEGACY	integer	By default, if there is no possible route between two points, the Matrix API sets the resulting matrix element to null. To circumvent this behavior, set the fallback_speed parameter to a value greater than 0 in kilometers per hour. The Matrix API will replace a null value with a straight-line estimate between the source and destination based on the provided speed value.
depart_at BETA	string	Specifies the desired time of departure to account for future traffic conditions and road restrictions; the matrix will be calculated based on a specified profile to determine conveyance type and desired or required traffic data. Formatted in one of three ISO 8601 formats: YYYY-MM-DDThh:mm:ssZ, YYYY-MM-DDThh:mmssÂ±hh:mm, or YYYY-MM-DDThh:mm. In the last format, the timezone is calculated from the route origin. If left blank, depart_at will be calculated as the present time in the local timezone of the first coordinates. Set the depart_at property to the current time or some time in the future. It cannot be in the past. To use this feature, sign up here.
Unrecognized options in the query string will result in an InvalidInput error.

Example request: Retrieve a matrix
# Request a symmetric 3x3 matrix for cars with a curbside approach for each destination
curl "https://api.mapbox.com/directions-matrix/v1/mapbox/driving/-122.42,37.78;-122.45,37.91;-122.48,37.73?approaches=curb;curb;curb&access_token=YOUR_MAPBOX_ACCESS_TOKEN"

# Request a symmetric 3x3 matrix for cars to depart in 30 minutes, the specified time zone applied to the given coordinates
DEPARTURE_TIME=$(TZ=US/Pacific date -r $(($(date "+%s") + 30 * 60)) "+%Y-%m-%dT%H:%M")
curl "https://api.mapbox.com/directions-matrix/v1/mapbox/driving/-122.42,37.78;-122.45,37.91;-122.48,37.73?depart_at=$DEPARTURE_TIME&access_token=YOUR_MAPBOX_ACCESS_TOKEN"

# Request an asymmetric 2x3 matrix for bicycles
curl "https://api.mapbox.com/directions-matrix/v1/mapbox/cycling/-122.42,37.78;-122.45,37.91;-122.48,37.73?sources=0;2&destinations=all&access_token=YOUR_MAPBOX_ACCESS_TOKEN"

# Request a 1x3 matrix for walking that includes both duration and distance
curl "https://api.mapbox.com/directions-matrix/v1/mapbox/walking/-122.418563,37.751659;-122.422969,37.75529;-122.426904,37.759617?sources=1&annotations=distance,duration&access_token=YOUR_MAPBOX_ACCESS_TOKEN"

# Request a 3x2 asymmetric matrix with destinations for driving with bearings
curl "https://api.mapbox.com/directions-matrix/v1/mapbox/driving/-73.985738,40.757958;-74.043030,40.750292;-73.986440,40.713199?bearings=240.1,45;68.9,90;129,45&destinations=0;2&access_token=YOUR_MAPBOX_ACCESS_TOKEN"
Response: Retrieve a matrix
The response to a Matrix API request is a JSON object that contains the following properties:

Property	Type	Description
code	string	A string indicating the state of the response. This is a separate code than the HTTP status code. On normal valid responses, the value will be Ok. See the errors section below for more information.
durations	array	Durations as an array of arrays that represent the matrix in row-major order. durations[i][j] gives the travel time from the ith source to the jth destination. All values are in seconds. The duration between the same coordinate is always 0. Finding no duration, the result will be null.
distances	array	Distances as an array of arrays that represent the matrix in row-major order. distances[i][j] gives the travel distance from the ith source to the jth destination. All values are in meters. The distance between the same coordinate is always 0. Finding no distance, the result will be null.
sources	array	An array of waypoint objects. Each waypoint is an input coordinate snapped to the road and path network. The waypoints appear in the array in the order of the input coordinates, or in the order specified in the sources query parameter.
destinations	array	An array of waypoint objects. Each waypoint is an input coordinate snapped to the road and path network. The waypoints appear in the array in the order of the input coordinates, or in the order specified in the destinations query parameter.
Note: When a route is not found between a source and a destination, the corresponding value in the durations or distances matrix will be null.

Example response: Retrieve a matrix
{
  "code": "Ok",
  "durations": [
    [0, 573, 1169.5],
    [573, 0, 597],
    [1169.5, 597, 0]
  ],
  "destinations": [
    {
      "name": "Mission Street",
      "location": [-122.418408, 37.751668],
      "distance": 5
    },
    {
      "name": "22nd Street",
      "location": [-122.422959, 37.755184],
      "distance": 8
    },
    {
      "name": "",
      "location": [-122.426911, 37.759695],
      "distance": 10
    }
  ],
  "sources": [
    {
      "name": "Mission Street",
      "location": [-122.418408, 37.751668],
      "distance": 5
    },
    {
      "name": "22nd Street",
      "location": [-122.422959, 37.755184],
      "distance": 8
    },
    {
      "name": "",
      "location": [-122.426911, 37.759695],
      "distance": 10
    }
  ]
}
Supported libraries: Retrieve a matrix
Mapbox wrapper libraries help you integrate Mapbox APIs into your existing application. The following SDKs support this endpoint:

Mapbox Java SDK
Mapbox JavaScript SDK
See the SDK documentation for details and examples of how to use the relevant methods to query this endpoint.

Matrix API errors
On error, the server responds with different HTTP status codes:

For responses with HTTP status codes lower than 500, the JSON response body includes the code property, which may be used by client programs to manage control flow. The response body may also include a message property with a human-readable explanation of the error.
If a server error occurs, the HTTP status code will be 500 or higher and the response will not include a code property.
Response body code	HTTP status code	Description
Ok	200	Normal success case.
NoRoute	200	There was no route found for the given coordinates. Check for impossible routes (for example, routes over oceans without ferry connections) or incorrectly formatted coordinates.
null	200	Request contains both routable and unroutable coordinate pairs; "null" is returned for unroutable coordinate pairs only.
Not Authorized - No Token	401	No token was used in the query.
Not Authorized - Invalid Token	401	Check the access token you used in the query.
Forbidden	403	There may be an issue with your account. Check your Account page for more details.

In some cases, using an access tokens with URL restrictions can also result in a 403 error. For more information, see our Token management guide.
ProfileNotFound	404	Use a valid profile as described in Retrieve a matrix.
InvalidInput	422	The given request was not valid. The message key of the response will hold an explanation of the invalid input.
Matrix API restrictions and limits
For the mapbox/driving, mapbox/walking, and mapbox/cycling profiles:
Maximum 25 input coordinates per request
Maximum 60 requests per minute
For the mapbox/driving-traffic profile:
Maximum 10 input coordinates per request
Maximum 30 requests per minute
If you require a higher rate limit,contact us.
Matrix API pricing
Billed by elements
See rates and discounts per Matrix API element in the pricing page's Navigation section
The Matrix API handles bulk requests of widely varying sizes, so billing is tracked by the number of elements returned instead of the number of requests made. For instance, one request from the Matrix API can be many different origin and destination pairs, so one request from the Matrix API is equal to the number of sources multiplied by the number of destinations:

The minimum number of elements per request is two (one source Ã— two destinations, or two sources Ã— one destination); requests with single-element results are not supported.
The maximum number of elements per request is 625 (25 sources Ã— 25 destinations).
By default, the Matrix API returns a symmetric matrix, using all input coordinates as both sources and destinations. In this case, the number of elements is the number of coordinates2. You can also generate an asymmetric matrix, with only some coordinates as sources or destinations. In an asymmetric matrix, the number of elements per request is the number of sources multiplied by the number of destinations. The minimum number of elements to retrieve travel times and distances for is two.

Details about the number of Matrix API requests included in the free tier and the cost per request beyond what is included in the free tier are available on the pricing page. For high volume use of the Mapbox Matrix API, contact our sales team for pricing.

Was this page helpful?
EV Charge Finder API
On this page
Search for EV Charge Points
Required Parameters
Optional Parameters
Example Request
Response
Example Response
Errors
Get Charge Point details by ID
Required Parameters
Example Request
Response
Example Response
Errors
Retrieve list of Charge Point Operators
Required Parameters
Example Request
Response
Example Response
Errors
Data Models
Proximity
Operator
OCPI Location
OCPI EVSE
OCPI Connector
OCPI AdditionalGeoLocation
OCPI BusinessDetails
OCPI Capability
OCPI ConnectorFormat
OCPI ConnectorType
OCPI EnergyMix
OCPI EnergySource
OCPI EnergySourceCategory
OCPI EnvironmentalImpact
OCPI EnvironmentalImpactCategory
OCPI ExceptionalPeriod
OCPI Facility
OCPI GeoLocation
OCPI Hours
OCPI Image
OCPI ImageCategory
OCPI ParkingRestriction
OCPI ParkingType
OCPI PowerType
OCPI PublishTokenType
OCPI TokenType
OCPI RegularHours
OCPI Status
OCPI StatusSchedule
OCPI DateTime
OCPI DisplayText
OCPI Price
OCPI Tariff
OCPI TariffType
OCPI TariffElement
OCPI PriceComponent
OCPI TariffDimensionType
OCPI TariffRestrictions
OCPI DayOfWeek
OCPI ReservationRestrictionType
EV Charge Finder API restrictions and limits
Private Preview for the EV Charge Finder API
For pricing and to sign up for EV Charge Finder API, sign up here. Note that the features and functionality of the API are subject to change.

The EV Charge Finder API searches for EV charge points within a specific area. The API provides various filtering options (such as connector types) to match different charging needs. The response is structured according to the industry-standard OCPI v2.2.1 Locations module, with additional extensions by Mapbox.

PLAYGROUND
EV Charge Finder API playground
Experiment with EV Charge Finder API queries and display charging stations from the API response on a map.

Search for EV Charge Points
Search for charging stations within a specified geographic area, with options to filter results by charge point operator, connector types, availability, charging speeds, and other key attributes.

get
https://api.mapbox.com/ev/v1/locations?access_token={access_token}&latitude={latitude}&longitude={longitude}&distance={distance}
Required Parameters
Parameter	Type	Description
access_token	string	A Mapbox access token with default permissions.
latitude	float	The latitude of the location around which charge points are searched. The latitude must be a number between -90.0 and 90.0.
longitude	float	The longitude of the location around which charge points are searched. The longitude must be a number between -180.0 and 180.0.
distance	float	The maximum distance in kilometers around the latitude, longitude to search for charge points. You can specify a distance of up to 100 kilometers. The default value is 10 kilometers.
Optional Parameters
Parameter	Type	Description
limit	integer	An optional limit on the number of charge points to be provided in the response. You can specify a limit up to 100. The default value is 20.
connector_types	string	An optional comma-delimited list of the OCPI v2.2.1 ConnectorType to be included in the response. By default all connector types will be included in the response.
operators	string	An optional comma-delimited list of the charge point operators to be included in the response. By default all operators will be included in the response. To get the current list of operators, refer to the Retrieve list of Charge Point Operators section.
exclude_operators	string	An optional comma-delimited list of the charge point operators (CPO) to be excluded from the response. To get the current list of operators, refer to the Retrieve list of Charge Point Operators section.
min_charging_power	float	An optional value in watts that sets the lower limit for the charging power supported by EVSEs at a charge point. If max_charging_power is provided, the default value is 0.
max_charging_power	float	An optional value in watts that sets the upper limit for the charging power supported by EVSEs at a charge point. If min_charging_power is provided, The default value is 500000.
availability	string	An optional filter on the charge points availability, reflected by the status of their EVSEs. The value of this optional parameter must be a valid Status (for example, "AVAILABLE" will return all charge points that have an EVSE with the status AVAILABLE).
amenities	string	Only include locations in the response that provide all specified amenities or have them nearby.
Possible values	Description
hotel	A hotel.
restaurant	A restaurant.
cafe	A cafe.
shopping_mall	A shopping mall.
supermarket	A supermarket.
sports	Gyms, fields, etc.
recreation_center	A recreation area.
park	A park or nature reserve.
nature_reserve	A park or nature reserve.
museum	A museum.
bus_stop	A bus stop.
bus_station	A bus stop.
taxi	A taxi stand.
railway_station	A railway station.
airport	An airport.
parking_lot	A parking lot.
gas_station	A gas station.
dog_park	A dog park.
bike_sharing	A bike/e-bike/e-scooter sharing location.
carpool_parking	A carpool parking.
tram_stop	A tram stop.
metro_station	A metro station.
wifi	Wifi available.
roof	The charging station is protected by a roof.
restroom	Restrooms available.
light	The charging station is well-lit.
trailer_friendly	The charging location is suitable for trailers.
exclude	string	A comma-delimited list of attributes. Charge points that have one or more of the specified attributes will be excluded from the response.
Possible values	Description
tesla_exclusive	Charge point that can only be used by Tesla cars.
payment_methods	string	An optional comma-delimited list of payment methods. When present, only locations supporting any of the provided payment methods will be included in the response.
Possible values	Description
ad-hoc	Credit and debit card payments.
opening_times	string	An optional filter for opening times. When present, only locations open during the given hours will be included in the response. If not present, all otherwise relevant locations will be included.
Possible values	Description
twentyfourseven	Open 24/7.
Example Request
# Retrieve EV charge points within 1 kilometer of San Jose Airport.

curl "https://api.mapbox.com/ev/v1/locations?access_token=YOUR_MAPBOX_ACCESS_TOKEN&latitude=37.364714&longitude=-121.924238&distance=1"

# Retrieve EV charge points only from ChargePoint and Blink

curl "https://api.mapbox.com/ev/v1/locations?access_token=YOUR_MAPBOX_ACCESS_TOKEN&latitude=37.364714&longitude=-121.924238&distance=1&operators=ChargePoint,Blink"

# Retrieve EV charge points from charge point operators other than ChargePoint and Blink

curl "https://api.mapbox.com/ev/v1/locations?access_token=YOUR_MAPBOX_ACCESS_TOKEN&latitude=37.364714&longitude=-121.924238&distance=1&exclude_operators=ChargePoint,Blink"

# Retrieve EV charge points in Amsterdam that have a cafe and bus stop nearby.

curl "https://api.mapbox.com/ev/v1/locations?access_token=YOUR_MAPBOX_ACCESS_TOKEN&latitude=52.378657&longitude=4.89941&distance=10&amenities=bus_stop,cafe"

# Retrieve EV charge points but ignore locations that are only usable by Tesla drivers

curl "https://api.mapbox.com/ev/v1/locations?access_token=YOUR_MAPBOX_ACCESS_TOKEN&latitude=37.364714&longitude=-121.924238&distance=1&exclude=tesla_exclusive"

# Retrieve EV charge points in Amsterdam that accept credit or debit cards.

curl "https://api.mapbox.com/ev/v1/locations?access_token=YOUR_MAPBOX_ACCESS_TOKEN&latitude=52.378657&longitude=4.89941&distance=10&payment_methods=ad-hoc"

# Retrieve EV charge points in Amsterdam that are open 24/7.

curl "https://api.mapbox.com/ev/v1/locations?access_token=YOUR_MAPBOX_ACCESS_TOKEN&latitude=52.378657&longitude=4.89941&distance=10&opening_times=twentyfourseven"
Response
The response to an EV Charge Finder API request is a GeoJSON FeatureCollection object that contains the following properties:

Property	Type	Description
type	string	The GeoJSON object type, this value is always 'FeatureCollection'.
features	array	The GeoJSON Feature objects describe a relevant EV charge point.
features[].type	array	The GeoJSON object type, this value is always 'Feature'.
features[].geometry	object	A GeoJSON Geometry object that describes where the EV charge point object is located.
features[].properties	object	An object that contains details about an OCPI Location.
features[].properties.location	object	An OCPI Location object.
features[].properties.proximity	object	A Proximity object that describes the distance from the proximity location's latitude and longitude to the charge point.
Example Response
{
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "geometry": {
        "type": "Point",
        "coordinates": [-121.920559, 37.367285]
      },
      "properties": {
        "location": {
          "country_code": "US",
          "party_id": "MBX",
          "id": "dXJuOm1ieHBvaToxMjM0NQ==",
          "publish": false,
          "name": "Hudson Concourse",
          "address": "1741 Technology Drive",
          "city": "San Jose",
          "postal_code": "95110",
          "state": "CA",
          "country": "USA",
          "coordinates": {
            "latitude": "37.3672850",
            "longitude": "-121.9205590"
          },
          "evses": [
            {
              "uid": "82686",
              "evse_id": "82686",
              "status": "AVAILABLE",
              "connectors": [
                {
                  "id": "5",
                  "standard": "IEC_62196_T1",
                  "format": "CABLE",
                  "power_type": "AC_2_PHASE",
                  "max_voltage": 240,
                  "max_amperage": 27,
                  "max_electric_power": 6.5,
                  "last_updated": "2022-08-11T14:03:44"
                }
              ],
              "coordinates": {
                "latitude": "37.3672850",
                "longitude": "-121.9205590"
              },
              "mbx_ext": { "pnc_capable": true },
              "last_updated": "2022-08-11T14:03:44"
            },
            {
              "uid": "82687",
              "evse_id": "82687",
              "status": "AVAILABLE",
              "connectors": [
                {
                  "id": "5",
                  "standard": "IEC_62196_T1",
                  "format": "CABLE",
                  "power_type": "AC_1_PHASE",
                  "max_voltage": 240,
                  "max_amperage": 27,
                  "max_electric_power": 6.5,
                  "last_updated": "2022-08-11T14:03:44"
                }
              ],
              "coordinates": {
                "latitude": "37.3672850",
                "longitude": "-121.9205590"
              },
              "mbx_ext": { "pnc_capable": true },
              "last_updated": "2022-08-11T14:03:44"
            }
          ],
          "operator": {
            "name": "ChargePoint"
          },
          "owner": {
            "name": "ChargePoint"
          },
          "time_zone": "America/Los_Angeles",
          "opening_times": {
            "twentyfourseven": true
          },
          "mbx_ext": { "pnc_capable": true },
          "last_updated": "2022-08-11T14:03:44"
        },
        "proximity": {
          "latitude": 37.364714,
          "longitude": -121.924238,
          "distance": 0.43294229650723554
        }
      }
    }
  ]
}
Errors
HTTP Status Code	Response Payload	Description
400	Bad Request	The feature is not enabled for the provided Mapbox access token, or an expected parameter, either latitude, longitude, or distance, was not provided.
401	Not Authorized	The API is not authorized for use for the provided access token.
Get Charge Point details by ID
Get charge point details by ID. First, use the Search for EV Charge Points feature to get a list of charge points. Then, get a specific charge pointâ€™s ID from the id property of the OCPI Location object and use it to get detailed information about that charge point.

get
https://api.mapbox.com/ev/v1/locations/{location_id}
Required Parameters
Parameter	Type	Description
access_token	string	A Mapbox access token with default permissions.
location_id	string	id property of OCPI Location object
Example Request
# Get details of a charge point near San Jose Airport.

curl "https://api.mapbox.com/ev/v1/locations/dXJuOm1ieGV2OmY3Y2E2ZmNlLTZjYTAtMTFlZC1hYjVjLWEwNDIzZjQyYWYwNjtzcmM9NA?access_token=YOUR_MAPBOX_ACCESS_TOKEN"
Response
The response is a GeoJSON FeatureCollection object that contains the following properties:

Property	Type	Description
type	string	The GeoJSON object type, this value is always 'Feature'.
geometry	object	A GeoJSON Geometry object that describes where the EV charge point object is located.
properties	object	An object that contains details about an OCPI Location.
properties.location	object	An OCPI Location object.
properties.proximity	object	A Proximity object that describes the distance from the proximity location's latitude and longitude to the charge point.
properties.tariffs	array	An array of Tariff objects that describes the detailed price information for charging.
Example Response
{
  "type": "Feature",
  "geometry": {
    "type": "Point",
    "coordinates": [
      -121.928896,
      37.370011
    ]
  },
  "properties": {
    "location": {
      "country_code": "US",
      "party_id": "MBX",
      "id": "dXJuOm1ieGV2OmY3Y2E2ZmNlLTZjYTAtMTFlZC1hYjVjLWEwNDIzZjQyYWYwNjtzcmM9NA",
      "publish": true,
      "address": "1701 Airport Boulevard",
      "city": "San Jose",
      "country": "USA",
      "coordinates": {
        "latitude": "37.370011",
        "longitude": "-121.928896"
      },
      "time_zone": "America/Los_Angeles",
      "last_updated": "2024-11-07T08:09:09Z",
      "evses": [
        {
          "uid": "538824",
          "status": "AVAILABLE",
          "last_updated": "2024-11-07T08:09:09Z",
          "connectors": [
            {
              "id": "5",
              "standard": "IEC_62196_T1",
              "format": "CABLE",
              "power_type": "AC_1_PHASE",
              "max_voltage": 240,
              "max_amperage": 27,
              "last_updated": "2024-11-07T08:09:09Z",
              "tariff_ids": [
                "bd40fa72d66b359796c0d10e9c64389c"
              ],
              "max_electric_power": 6480
            }
          ],
          "evse_id": "538824"
        }
      ],
      "name": "Norman Y. Mineta San Jose International Airport",
      "postal_code": "95110",
      "parking_type": "ALONG_MOTORWAY",
      "operator": {
        "name": "ChargePoint"
      },
      "owner": {
        "name": "ChargePoint",
        "website": "https://www.chargepoint.com/"
      },
      "opening_times": {
        "twentyfourseven": false,
        "regular_hours": [
          {
            "weekday": 1,
            "period_begin": "00:00",
            "period_end": "24:00"
          },
          {
            "weekday": 2,
            "period_begin": "00:00",
            "period_end": "24:00"
          },
          {
            "weekday": 3,
            "period_begin": "00:00",
            "period_end": "24:00"
          },
          {
            "weekday": 4,
            "period_begin": "00:00",
            "period_end": "24:00"
          },
          {
            "weekday": 5,
            "period_begin": "00:00",
            "period_end": "24:00"
          },
          {
            "weekday": 6,
            "period_begin": "00:00",
            "period_end": "24:00"
          },
          {
            "weekday": 7,
            "period_begin": "00:00",
            "period_end": "24:00"
          }
        ],
      },
      "charging_when_closed": false,
    },
    "tariffs": [
      {
        "country_code": "US",
        "party_id": "MBX",
        "id": "bd40fa72d66b359796c0d10e9c64389c",
        "currency": "USD",
        "last_updated": "2024-11-07T03:17:19Z",
        "elements": [
          {
            "price_components": [
              {
                "type": "FLAT",
                "price": 0,
                "step_size": 0
              }
            ]
          }
        ],
        "tariff_alt_text": [],
        "type": "AD_HOC_PAYMENT"
      }
    ]
  }
}
Errors
HTTP Status Code	Response Payload	Description
401	Not Authorized	The API is not authorized for use for the provided access token.
404	Not Found	The charge point is not found.
Retrieve list of Charge Point Operators
Retrieve a list of charge point operators. The response includes party_id, name, and country_code, helping users to search for charge points from preferred operators using Search for EV Charge Points.

get
https://api.mapbox.com/ev/v1/operators
Required Parameters
Parameter	Type	Description
access_token	string	A Mapbox access token with default permissions.
Example Request
# Retrieve the Operators list.

curl "https://api.mapbox.com/ev/v1/operators?access_token=YOUR_MAPBOX_ACCESS_TOKEN"
Response
The response is a Array of objects that contains the following properties:

Property	Type	Cardinality	Description
data	array	*	Array of Operator representing EV Charge Point operator.
Example Response
{
  "data": [
    {
      "party_id": "BCH",
      "name": "Bc Hydro",
      "country_code": "CA"
    },
    {
      "party_id": "CRK",
      "name": "CircleK/Couche-Tard Recharge",
      "country_code": "CA"
    },
    {
      "party_id": "SIM",
      "name": "ChargeHub",
      "country_code": "CA"
    },
    {
      "party_id": "ECS",
      "name": "EVCS",
      "country_code": "US"
    },
    {
      "party_id": "GYW",
      "name": "evGateway",
      "country_code": "US"
    }
  ]
}
Errors
HTTP Status Code	Response Payload	Description
401	Not Authorized	The API is not authorized for use for the provided access token.
Data Models
The structured representations of data used in the EV Charge Finder API are defined below.

Proximity
proximity in which to conduct a search for charge point POIs.

Property	Type	Cardinality	Description
latitude	float	1	Latitude of the proximity in decimal degree. The latitude must be a number between -90.0 and 90.0.
longitude	float	1	Longitude of the proximity in decimal degree. The longitude must be a number between -180.0 and 180.0.
distance	float	1	The distance, in kilometers, of the POI from the proximity.
Operator
Charge point operator that owns EV charge points.

Property	Type	Cardinality	Description
party_id	string	1	3 letter identifier of the operator.
name	string	1	Name of the operator.
country_code	string	1	ISO-3166 alpha-2 country code of the operator.
OCPI Location
The Location object describes the location and its properties where a group of EVSEs that belong together are installed. Refer to this type in the OCPI GitHub repository for more details.

Property	Type	Cardinality	Description
country_code	string	1	ISO-3166 alpha-2 country code of the operator that 'owns' this Location.
party_id	string	1	3 letter identifier of the operator.
id	string	1	Uniquely identifies the location among all operators. This field can never be changed, modified or renamed.
publish	boolean	1	Defines if a Location may be published on a website or app etc. When set to false, this location is only visible by tokens identified in the field: publish_allowed_to. When the same location has EVSEs that may be published and may not be published, two 'Locations' should be created.
publish_allowed_to	object	*	PublishTokenType object. This field may only be used when the publish field is false. The location is shared only with owners of Tokens that match all the set fields of one PublishToken in the list.
name	string	?	Display name of the location.
address	string	1	Street/block name and house number if available.
city	string	1	City or town.
postal_code	string	?	Postal code of the location, may only be omitted when the location has no postal code: in some countries charging locations at highways donâ€™t have postal codes.
state	string	?	State or province of the location, only to be used when relevant.
country	string	1	ISO 3166-1 alpha-3 code for the country of this location.
coordinates	object	1	GeoLocation object representing coordinates of the location.
related_locations	array	*	AdditionalGeoLocation object representing geographical location of related points relevant to the user.
parking_type	string	?	ParkingType value. The general type of parking at the charge point location.
evses	array	*	Array of EVSE objects that belong to this Location.
directions	object	*	DisplayText object representing human-readable directions on how to reach the location.
operator	object	?	BusinessDetails object representing information of the operator. When not specified, the information retrieved from the Credentials module, selected by the country_code and party_id of this Location, should be used instead.
suboperator	object	?	BusinessDetails object representing information of the suboperator if available.
owner	object	?	BusinessDetails object representing information of the owner if available.
help_phone	string	?	A telephone number that a driver using the location may call for help. Calling this number will typically connect the caller to the CPOâ€™s customer service department.
facilities	array	*	Array of Facility this charging location directly belongs to.
time_zone	string	1	One of IANA time zone dataâ€™s TZ-values representing the time zone of the location. Examples: "Europe/Oslo", "Europe/Zurich".
opening_times	object	?	Hours object representing the times when the EVSEs at the location can be accessed for charging.
charging_when_closed	boolean	?	Indicates if the EVSEs are still charging outside the opening hours of the location. for example when the parking garage closes its barriers over night, is it allowed to charge till the next morning? Default: true
images	object	*	Image object representing links to images related to the location such as photos or logos.
energy_mix	object	?	EnergyMix object representing details on the energy supplied at this location.
last_updated	string	1	Timestamp in OCPI DateTime format when this Location or one of its EVSEs or Connectors were last updated (or created).
OCPI EVSE
The EVSE object describes the part that controls the power supply to a single EV in a single session. It always belongs to a Location object. Refer to this type in the OCPI GitHub repository for more details.

Property	Type	Cardinality	Description
uid	string	1	Uniquely identifies the EVSE within the operators' platform (and suboperator platforms). For example a database ID or the actual "EVSE ID". This field can never be changed, modified or renamed. This is the 'technical' identification of the EVSE, not to be used as 'human readable' identification, use the field evse_id for that.
evse_id	string	?	Compliant with the following specification for EVSE ID from "eMI3 standard version V1.0" (http://emi3group.com/documents-links/) "Part 2: business objects." Optional because: If an EVSE ID is to be reused in the real world, you can remove the evse_id from an EVSE object if the status after setting its status to REMOVED.
status	string	1	Status value that indicates the current status of the EVSE.
status_schedule	array	*	Array of StatusSchedule representing a planned status update of the EVSE.
capabilities	array	*	Array of Capability that the EVSE is capable of.
connectors	array	+	Array of available Connector objects on the EVSE.
floor_level	string	?	Level on which the Charge Point is located (in garage buildings) in the locally displayed numbering scheme.
coordinates	object	?	GeoLocation object representing coordinates of the EVSE.
physical_reference	string	?	A number/string printed on the outside of the EVSE for visual identification.
directions	array	*	DisplayText object representing multi-language human-readable directions when more detailed information on how to reach the EVSE from the Location is required.
parking_restrictions	array	*	Array of ParkingRestriction values that apply to the parking spot.
images	array	*	Array of Image objects representing links to images related to the EVSE such as photos or logos.
last_updated	string	1	Timestamp in DateTime format when this EVSE or one of its Connectors was last updated (or created).
OCPI Connector
A Connector is the socket or cable and plug available for the EV to use. A single EVSE may provide multiple Connectors but only one of them can be in use at the same time. A Connector always belongs to an EVSE object. Refer to this type in the OCPI GitHub repository for more details.

Property	Type	Cardinality	Description
id	string	1	Identifier of the Connector within the EVSE. Two Connectors may have the same id as long as they do not belong to the same EVSE object.
standard	string	1	ConnectorType value indicating the standard of the installed connector.
format	string	1	ConnectorFormat value indicating the format (socket/cable) of the installed connector.
power_type	string	1	PowerType value indicating electrical power configuration.
max_voltage	integer	1	Maximum voltage of the connector (line to neutral for AC_3_PHASE), in volt [V]. For example: DC Chargers might vary the voltage during charging when battery almost full.
max_amperage	integer	1	Maximum amperage of the connector, in ampere [A].
max_electric_power	integer	?	Maximum electric power that can be delivered by this connector, in Watts (W). Used when the maximum electric power is lower than the calculated value from voltage and amperage. For example: A DC Charge Point which can delivers up to 920V and up to 400A can be limited to a maximum of 150kW (max_electric_power = 150000). Depending on the car, it may supply max voltage or current, but not both at the same time. For AC Charge Points, the amount of phases used can also have influence on the maximum power.
tariff_ids	string	*	Identifiers of the valid charging tariffs. Multiple tariffs are possible, but only one of each Tariff.type can be active at the same time. Tariffs with the same type are only allowed if they are not active at the same time: start_date_time and end_date_time period not overlapping. Only included in the response of the Get Charge Point details by ID API
terms_and_conditions	string	?	URL to the operatorâ€™s terms and conditions.
last_updated	string	1	Timestamp in DateTime format when this Connector was last updated (or created).
OCPI AdditionalGeoLocation
This class defines an additional geographic location that is relevant for the Charge Point. The geodetic system to be used is WGS 84. Refer to this type in the OCPI GitHub repository for more details.

Property	Type	Cardinality	Description
latitude	string	1	Latitude of the point in decimal degree. The latitude must be a number between -90.0 and 90.0.
longitude	string	1	Longitude of the point in decimal degree. The longitude must be a number between -180.0 and 180.0.
name	object	?	DisplayText object representing name of the point in local language or as written at the location. For example the street name of a parking lot entrance or itâ€™s number.
OCPI BusinessDetails
This class is information about a business operator, including its name, an optional website URL, and an optional logo image link. Refer to this type in the OCPI GitHub repository for more details.

Property	Type	Cardinality	Description
name	string	1	Name of the operator.
website	string	?	Link to the operatorâ€™s website.
logo	object	?	Image object representing link to the operatorâ€™s logo.
OCPI Capability
The capabilities of an EVSE. Refer to this type in the OCPI GitHub repository for more details.

Value	Description
CHARGING_PROFILE_CAPABLE	The EVSE supports charging profiles.
CHARGING_PREFERENCES_CAPABLE	The EVSE supports charging preferences.
CHIP_CARD_SUPPORT	EVSE has a payment terminal that supports chip cards.
CONTACTLESS_CARD_SUPPORT	EVSE has a payment terminal that supports contactless cards.
CREDIT_CARD_PAYABLE	EVSE has a payment terminal that makes it possible to pay for charging using a credit card.
DEBIT_CARD_PAYABLE	EVSE has a payment terminal that makes it possible to pay for charging using a debit card.
PED_TERMINAL	EVSE has a payment terminal with a pin-code entry device.
REMOTE_START_STOP_CAPABLE	The EVSE can remotely be started/stopped.
RESERVABLE	The EVSE can be reserved.
RFID_READER	Charging at this EVSE can be authorized with an RFID token.
START_SESSION_CONNECTOR_REQUIRED	When a StartSession is received by this EVSE, the eMSP is required to add the optional connector_id field in the StartSession object.
TOKEN_GROUP_CAPABLE	This EVSE supports token groups, two or more tokens work as one, so that a session can be started with one token and stopped with another (handy when an EV driver has both a card and key-fob).
UNLOCK_CAPABLE	Connectors have mechanical lock that can be requested by the eMSP to be unlocked.
OCPI ConnectorFormat
The format of the connector, whether it is a socket or a plug. Refer to this type in the OCPI GitHub repository for more details.

Value	Description
SOCKET	The connector is a socket; the EV user needs to bring a fitting plug.
CABLE	The connector is an attached cable; the EV users car needs to have a fitting inlet.
OCPI ConnectorType
The socket or plug standard of the charge point. Refer to this type in the OCPI GitHub repository for more details.

Value	Description
CHADEMO	The connector type is CHAdeMO, DC
CHAOJI	The ChaoJi connector. The new generation charging connector, harmonized between CHAdeMO and GB/T. DC.
DOMESTIC_A	Standard/Domestic household, type "A", NEMA 1-15, 2 pins
DOMESTIC_B	Standard/Domestic household, type "B", NEMA 5-15, 3 pins
DOMESTIC_C	Standard/Domestic household, type "C", CEE 7/17, 2 pins
DOMESTIC_D	Standard/Domestic household, type "D", 3 pin
DOMESTIC_E	Standard/Domestic household, type "E", CEE 7/5 3 pins
DOMESTIC_F	Standard/Domestic household, type "F", CEE 7/4, Schuko, 3 pins
DOMESTIC_G	Standard/Domestic household, type "G", BS 1363, Commonwealth, 3 pins
DOMESTIC_H	Standard/Domestic household, type "H", SI-32, 3 pins
DOMESTIC_I	Standard/Domestic household, type "I", AS 3112, 3 pins
DOMESTIC_J	Standard/Domestic household, type "J", SEV 1011, 3 pins
DOMESTIC_K	Standard/Domestic household, type "K", DS 60884-2-D1, 3 pins
DOMESTIC_L	Standard/Domestic household, type "L", CEI 23-16-VII, 3 pins
DOMESTIC_M	Standard/Domestic household, type "M", BS 546, 3 pins
DOMESTIC_N	Standard/Domestic household, type "N", NBR 14136, 3 pins
DOMESTIC_O	Standard/Domestic household, type "O", TIS 166-2549, 3 pins
GBT_AC	Guobiao GB/T 20234.2 AC socket/connector
GBT_DC	Guobiao GB/T 20234.3 DC connector
IEC_60309_2_single_16	IEC 60309-2 Industrial Connector single phase 16 amperes (usually blue)
IEC_60309_2_three_16	IEC 60309-2 Industrial Connector three phases 16 amperes (usually red)
IEC_60309_2_three_32	IEC 60309-2 Industrial Connector three phases 32 amperes (usually red)
IEC_60309_2_three_64	IEC 60309-2 Industrial Connector three phases 64 amperes (usually red)
IEC_62196_T1	IEC 62196 Type 1 "SAE J1772"
IEC_62196_T1_COMBO	Combo Type 1 based, DC
IEC_62196_T2	IEC 62196 Type 2 "Mennekes"
IEC_62196_T2_COMBO	Combo Type 2 based, DC
IEC_62196_T3A	IEC 62196 Type 3A
IEC_62196_T3C	IEC 62196 Type 3C "Scame"
NEMA_5_20	NEMA 5-20, 3 pins
NEMA_6_30	NEMA 6-30, 3 pins
NEMA_6_50	NEMA 6-50, 3 pins
NEMA_10_30	NEMA 10-30, 3 pins
NEMA_10_50	NEMA 10-50, 3 pins
NEMA_14_30	NEMA 14-30, 3 pins, rating of 30 A
NEMA_14_50	NEMA 14-50, 3 pins, rating of 50 A
PANTOGRAPH_BOTTOM_UP	On-board Bottom up Pantograph typically for bus charging
PANTOGRAPH_TOP_DOWN	Off-board Top down Pantograph typically for bus charging
TESLA_R	Tesla Connector "Roadster"-type (round, 4 pin)
TESLA_S	Tesla Connector "Model-S"-type (oval, 5 pin)
OCPI EnergyMix
This type is used to specify the energy mix and environmental impact of the supplied energy at a location or in a tariff. Refer to this type in the OCPI GitHub repository for more details.

Property	Type	Cardinality	Description
is_green_energy	boolean	1	True if 100% from regenerative sources. (CO2 and nuclear waste is zero)
energy_sources	array	*	Array of EnergySource objects representing energy sources of this locationâ€™s tariff in key-value pairs (enum + percentage).
environ_impact	array	*	Array of EnvironmentalImpact objects representing nuclear waste and CO2 exhaust of this locationâ€™s tariff in Key-value pairs (enum + percentage).
supplier_name	string	?	Name of the energy supplier, delivering the energy for this location or tariff.
energy_product_name	string	?	Name of the energy suppliers product/tariff plan used at this location.
OCPI EnergySource
Key-value pairs (enum + percentage) of energy sources. All given values of all categories should add up to 100 percent. Refer to this type in the OCPI GitHub repository for more details.

Property	Type	Cardinality	Description
source	string	1	EnergySourceCategory value indicating the type of energy source.
percentage	integer	1	Percentage of this source (0-100) in the mix.
OCPI EnergySourceCategory
Categories of energy sources. Refer to this type in the OCPI GitHub repository for more details.

Value	Description
NUCLEAR	Nuclear power sources.
GENERAL_FOSSIL	All kinds of fossil power sources.
COAL	Fossil power from coal.
GAS	Fossil power from gas.
GENERAL_GREEN	All kinds of regenerative power sources.
SOLAR	Regenerative power from photo voltaic.
WIND	Regenerative power from wind turbines.
WATER	Regenerative power from water turbines.
OCPI EnvironmentalImpact
Amount of waste produced/emitted per kWh. Refer to this type in the OCPI GitHub repository for more details.

Property	Type	Cardinality	Description
category	string	1	EnvironmentalImpactCategory value indicating the environmental impact category.
amount	float	1	Amount of this part in g/kWh.
OCPI EnvironmentalImpactCategory
Categories of environmental impact values. Refer to this type in the OCPI GitHub repository for more details.

Value	Description
NUCLEAR_WASTE	Produced nuclear waste in grams per kilowatt hour.
CARBON_DIOXIDE	Exhausted carbon dioxide in grams per kilowatt hour.
OCPI ExceptionalPeriod
Specifies one exceptional period for opening or access hours. Refer to this type in the OCPI GitHub repository for more details.

Property	Type	Cardinality	Description
period_begin	string	1	Begin timestamp of the exception in DateTime format. In UTC, time_zone field can be used to convert to local time.
period_end	string	1	End timestamp of the exception in DateTime format. In UTC, time_zone field can be used to convert to local time.
OCPI Facility
A facility to which a charging location directly belongs. Refer to this type in the OCPI GitHub repository for more details.

Value	Description
HOTEL	A hotel.
RESTAURANT	A restaurant.
CAFE	A cafe.
MALL	A mall or shopping center.
SUPERMARKET	A supermarket.
SPORT	Sport facilities: gym, field etc.
RECREATION_AREA	A recreation area.
NATURE	Located in, or close to, a park, nature reserve etc.
MUSEUM	A museum.
BIKE_SHARING	A bike/e-bike/e-scooter sharing location.
BUS_STOP	A bus stop.
TAXI_STAND	A taxi stand.
TRAM_STOP	A tram stop/station.
METRO_STATION	A metro station.
TRAIN_STATION	A train station.
AIRPORT	An airport.
PARKING_LOT	A parking lot.
CARPOOL_PARKING	A carpool parking.
FUEL_STATION	A Fuel station.
WIFI	Wifi or other type of internet available.
ROOF	Charging location is protected by a roof.
RESTROOM	Restrooms are available.
LIGHT	Charging location is well-lit.
DOG_GROUND	A dog ground.
TRAILER_FRIENDLY	Charging location is suitable for trailers.
OCPI GeoLocation
This class defines the geographic location of the Charge Point. The geodetic system to be used is WGS 84. Refer to this type in the OCPI GitHub repository for more details.

Property	Type	Cardinality	Description
latitude	string	1	Latitude of the point in decimal degree. The latitude must be a number between -90.0 and 90.0.
longitude	string	1	Longitude of the point in decimal degree. The longitude must be a number between -180.0 and 180.0.
OCPI Hours
Opening and access hours of the location. Refer to this type in the OCPI GitHub repository for more details.

Property	Type	Cardinality	Description
twentyfourseven	boolean	1	True to represent 24 hours a day and 7 days a week, except the given exceptions.
regular_hours	array	*	Array of RegularHours objects representing regular hours, weekday-based. Only to be used if twentyfourseven=false, then this field needs to contain at least one RegularHours object.
exceptional_openings	array	*	Array of ExceptionalPeriod objects representing exceptions for specified calendar dates, time-range based. Times the station is operating/accessible. Additional to regular_hours. May overlap regular rules.
exceptional_closings	array	*	Array of ExceptionalPeriod objects representing exceptions for specified calendar dates, time-range based. Times the station is not operating/accessible. Overwriting regular_hours and exceptional_openings. Should not overlap exceptional_openings.
OCPI Image
This class references an image related to an EVSE as a file name or URL. Refer to this type in the OCPI GitHub repository for more details.

Property	Type	Cardinality	Description
url	string	1	URL from where the image data can be fetched through a web browser.
thumbnail	string	?	URL from where a thumbnail of the image can be fetched through a web browser.
category	string	1	ImageCategory value indicating what the image is used for.
type	string	1	Image type like: GIF, JPG, PNG, SVG.
width	integer	?	Width of the full scale image.
height	integer	?	Height of the full scale image.
OCPI ImageCategory
The category of an image to get the correct usage in a user presentation. Refer to this type in the OCPI GitHub repository for more details.

Value	Description
CHARGER	Photo of the physical device that contains one or more EVSEs.
ENTRANCE	Location entrance photo. Should show the car entrance to the location from street side.
LOCATION	Location overview photo.
NETWORK	Logo of an associated roaming network to be displayed with the EVSE for example in lists, maps and detailed information views.
OPERATOR	Logo of the charge point operator, for example a municipality, to be displayed in the EVSEs detailed information view or in lists and maps, if no network logo is present.
OTHER	Other
OWNER	Logo of the charge point owner, for example a local store, to be displayed in the EVSEs detailed information view.
OCPI ParkingRestriction
This value, if provided, is the restriction to the parking spot for different purposes. Refer to this type in the OCPI GitHub repository for more details.

Value	Description
EV_ONLY	Reserved parking spot for electric vehicles.
PLUGGED	Parking is only allowed while plugged in (charging).
DISABLED	Reserved parking spot for disabled people with valid ID.
CUSTOMERS	Parking spot for customers/guests only, for example in case of a hotel or shop.
MOTORCYCLES	Parking spot only suitable for (electric) motorcycles or scooters.
OCPI ParkingType
Reflects the general type of the charge pointâ€™s location. May be used for user information. Refer to this type in the OCPI GitHub repository for more details.

Value	Description
ALONG_MOTORWAY	Location on a parking facility/rest area along a motorway, freeway, interstate, highway etc.
PARKING_GARAGE	Multistorey car park.
PARKING_LOT	A cleared area that is intended for parking vehicles, as in at super markets, bars, etc.
ON_DRIVEWAY	Location is on the driveway of a house/building.
ON_STREET	Parking in public space along a street.
UNDERGROUND_GARAGE	Multistorey car park, mainly underground.
OCPI PowerType
This value indicates an electrical power configuration of a connector. Refer to this type in the OCPI GitHub repository for more details.

Value	Description
AC_1_PHASE	AC single phase.
AC_2_PHASE	AC two phases, only two of the three available phases connected.
AC_2_PHASE_SPLIT	AC two phases using split phase system.
AC_3_PHASE	AC three phases.
DC	Direct Current.
OCPI PublishTokenType
Defines the set of values that identify a token to which a Location might be published. Refer to this type in the OCPI GitHub repository for more details.

Property	Type	Cardinality	Description
uid	string	?	Unique ID by which this Token can be identified.
type	string	?	TokenType value indicating type of the token.
visual_number	string	?	Visual readable number/identification as printed on the Token (RFID card).
issuer	string	?	Issuing company, most of the times the name of the company printed on the token (RFID card), not necessarily the eMSP.
group_id	string	?	This ID groups a couple of tokens. This can be used to make two or more tokens work as one.
OCPI TokenType
Type of Token. Refer to this type in the [OCPI GitHub repository](Refer to this type in the OCPI GitHub repository for more details.

Value	Description
AD_HOC_USER	One time use Token ID generated by a server (or App.) The eMSP uses this to bind a Session to a customer, probably an app user.
APP_USER	Token ID generated by a server (or App.) to identify a user of an App. The same user uses the same Token for every Session.
OTHER	Other type of token
RFID	RFID Token
OCPI RegularHours
Regular recurring operation or access hours. Refer to this type in the OCPI GitHub repository for more details.

Property	Type	Cardinality	Description
weekday	integer	1	Number of day in the week, from Monday (1) till Sunday (7)
period_begin	string	1	Begin of the regular period, in local time, given in hours and minutes. Must be in 24h format with leading zeros. Example: "18:15".
period_end	string	1	End of the regular period, in local time, syntax as for period_begin. Must be later than period_begin.
OCPI Status
The status of an EVSE. Refer to this type in the OCPI GitHub repository for more details.

Value	Description
AVAILABLE	The EVSE/Connector is able to start a new charging session.
BLOCKED	The EVSE/Connector is not accessible because of a physical barrier, as in a car.
CHARGING	The EVSE/Connector is in use.
INOPERATIVE	The EVSE/Connector is not yet active, or temporarily not available for use, but not broken or defect.
OUTOFORDER	The EVSE/Connector is out of order, some part/components may be broken/defective.
PLANNED	The EVSE/Connector is planned, will be operating soon.
REMOVED	The EVSE/Connector was discontinued/removed.
RESERVED	The EVSE/Connector is reserved for a particular EV driver and is unavailable for other drivers.
UNKNOWN	No status information available (also used when offline).
OCPI StatusSchedule
This type is used to schedule status period in the future. Refer to this type in the OCPI GitHub repository for more details.

Property	Type	Cardinality	Description
period_begin	string	1	Begin timestamp in DateTime format of the scheduled period.
period_end	string	?	End timestamp in DateTime format of the scheduled period, if known.
status	Status	1	Status value during the scheduled period.
OCPI DateTime
All timestamps are formatted as string following RFC 3339, with some additional limitations. Refer to this type in the OCPI GitHub repository for more details.

OCPI DisplayText
Refer to this type in the OCPI GitHub repository for more details.

Property	Type	Cardinality	Description
language	string	1	Language Code ISO 639-1.
text	string	1	Text to be displayed to an end user. No markup, HTML etc. allowed.
OCPI Price
Type of price and cost. Refer to this type in the OCPI GitHub repository for more details.

Property	Type	Cardinality	Description
excl_vat	float	1	Price/Cost excluding VAT.
incl_vat	float	?	Price/Cost including VAT.
OCPI Tariff
A Tariff object consists of a list of one or more Tariff Elements, which in turn consist of Price Components. A Tariff Element is a group of Price Components that apply under the same conditions. A Price Component describes how the usage of a particular dimension (time, energy, etc.) maps to an amount of money owed. Refer to this type in the OCPI GitHub repository for more details.

Property	Type	Cardinality	Description
country_code	string	1	ISO-3166 alpha-2 country code of the operator that owns this Tariff.
party_id	string	1	3 letter identifier of the operator.
id	string	1	Uniquely identifies the tariff within the CPOâ€™s platform (and suboperator platforms).
currency	string	1	ISO-4217 code of the currency of this tariff.
type	string	?	TariffType of the tariff. This allows for distinction in case of given Charging Preferences. When omitted, this tariff is valid for all sessions.
tariff_alt_text	array	*	DisplayText object representing list of multi-language alternative tariff information texts.
tariff_alt_url	string	?	URL to a webpage that contains an explanation of the tariff information in human readable form.
min_price	object	?	Price object. Use this property to declare a Charging Session tariff will base cost of this amount. This is different from a FLAT fee (Start Tariff, Transaction Fee), a FLAT fee is a fixed amount for any Charging Session. A minimum price indicates that when the cost of a Charging Session is lower than this amount, the cost of the Session will be equal to this amount. (Also see note below)
max_price	object	?	Price object. Set this field and a Charging Session with this tariff will NOT cost more than this amount. (See note below)
elements	array	+	List of TariffElement.
start_date_time	string	?	The time in OCPI DateTime format when this tariff becomes active, in UTC, time_zone field of the Location can be used to convert to local time. Typically used for a new tariff that is already given with the location, before it becomes active. (See note below)
end_date_time	string	?	The time in OCPI DateTime format after which this tariff is no longer valid, in UTC, time_zone field if the Location can be used to convert to local time. Typically used when this tariff is going to be replaced with a different tariff soon. (See note below)
energy_mix	object	?	Details on the energy supplied with this tariff.
last_updated	string	1	Timestamp in OCPI DateTime format when this Tariff was last updated (or created).
OCPI TariffType
The type of the tariff. Refer to this type in the OCPI GitHub repository for more details.

Value	Description
AD_HOC_PAYMENT	Used to describe that a Tariff is valid when ad-hoc payment is used at the Charge Point (for example: Debit or Credit card payment terminal).
PROFILE_CHEAP	Used to describe that a Tariff is valid when setting Charging Preference: CHEAP for the session.
PROFILE_FAST	Used to describe that a Tariff is valid when setting Charging Preference: FAST for the session.
PROFILE_GREEN	Used to describe that a Tariff is valid when setting Charging Preference: GREEN for the session.
REGULAR	Used to describe that a Tariff is valid when using an RFID, without any Charging Preference, or when setting Charging Preference: REGULAR for the session.
OCPI TariffElement
The type of tariff element. Refer to this type in the OCPI GitHub repository for more details.

Property	Type	Cardinality	Description
price_components	array	+	List of PriceComponent that describe the pricing of a tariff.
restrictions	object	?	List of TariffRestrictions Restrictions that describe the applicability of a tariff.
OCPI PriceComponent
The type of price component for tariff. Refer to this type in the OCPI GitHub repository for more details.

Property	Type	Cardinality	Description
type	string	1	TariffDimensionType of tariff dimension.
price	float	1	Price per unit (excl. VAT) for this tariff dimension.
vat	float	?	Applicable VAT percentage for this tariff dimension. If omitted, no VAT is applicable. Not providing a VAT is different from 0% VAT, which would be a value of 0.0 here.
step_size	integer	1	Minimum amount to be billed. This unit will be billed in this step_size blocks. Amounts that are less then this step_size are rounded up to the given step_size. For example: if type is TIME and step_size has a value of 300, then time will be billed in blocks of 5 minutes. If 6 minutes were used, 10 minutes (2 blocks of step_size) will be billed.
OCPI TariffDimensionType
Type of tariff dimension. Refer to this type in the OCPI GitHub repository for more details.

Value	Description
ENERGY	Defined in kWh, step_size multiplier: 1 Wh
FLAT	Flat fee without unit for step_size
PARKING_TIME	Time not charging: defined in hours, step_size multiplier: 1 second
TIME	Time charging: defined in hours, step_size multiplier: 1 second
OCPI TariffRestrictions
These restrictions are not for the entire Charging Session. They only describe if a TariffElement becomes active or inactive during a Charging Session. Refer to this type in the OCPI GitHub repository for more details.

Property	Type	Cardinality	Description
start_time	string	?	Start time of day in local time, the time zone is defined in the time_zone field of the Location, for example 13:30, valid from this time of the day. Must be in 24h format with leading zeros. Hour/Minute separator: ":" Regex: ([0-1][0-9]
end_time	string	?	End time of day in local time, the time zone is defined in the time_zone field of the Location, for example 19:45, valid until this time of the day. Same syntax as start_time. If end_time < start_time then the period wraps around to the next day. To stop at end of the day use: 00:00.
start_date	string	?	Start date in local time, the time zone is defined in the time_zone field of the Location, for example: 2015-12-24, valid from this day (inclusive). Regex: ([12][0-9]3)-(0[1-9]
end_date	string	?	End date in local time, the time zone is defined in the time_zone field of the Location, for example: 2015-12-27, valid until this day (exclusive). Same syntax as start_date.
min_kwh	float	?	Minimum consumed energy in kWh, for example 20, valid from this amount of energy (inclusive) being used.
max_kwh	float	?	Maximum consumed energy in kWh, for example 50, valid until this amount of energy (exclusive) being used.
min_current	float	?	Sum of the minimum current (in Amperes) over all phases, for example 5. When the EV is charging with more than, or equal to, the defined amount of current, this TariffElement is/becomes active. If the charging current is or becomes lower, this TariffElement is not or no longer valid and becomes inactive. This describes NOT the minimum current over the entire Charging Session. This restriction can make a TariffElement become active when the charging current is above the defined value, but the TariffElement MUST no longer be active when the charging current drops below the defined value.
max_current	float	?	Sum of the maximum current (in Amperes) over all phases, for example 20. When the EV is charging with less than the defined amount of current, this TariffElement becomes/is active. If the charging current is or becomes higher, this TariffElement is not or no longer valid and becomes inactive. This describes NOT the maximum current over the entire Charging Session. This restriction can make a TariffElement become active when the charging current is below this value, but the TariffElement MUST no longer be active when the charging current raises above the defined value.
min_power	float	?	Minimum power in kW, for example 5. When the EV is charging with more than, or equal to, the defined amount of power, this TariffElement is/becomes active. If the charging power is or becomes lower, this TariffElement is not or no longer valid and becomes inactive. This describes NOT the minimum power over the entire Charging Session. This restriction can make a TariffElement become active when the charging power is above this value, but the TariffElement MUST no longer be active when the charging power drops below the defined value.
max_power	float	?	Maximum power in kW, for example 20. When the EV is charging with less than the defined amount of power, this TariffElement becomes/is active. If the charging power is or becomes higher, this TariffElement is not or no longer valid and becomes inactive. This describes NOT the maximum power over the entire Charging Session. This restriction can make a TariffElement become active when the charging power is below this value, but the TariffElement MUST no longer be active when the charging power raises above the defined value.
min_duration	integer	?	Minimum duration in seconds the Charging Session MUST last (inclusive). When the duration of a Charging Session is longer than the defined value, this TariffElement is or becomes active. Before that moment, this TariffElement is not yet active.
max_duration	integer	?	Maximum duration in seconds the Charging Session MUST last (exclusive). When the duration of a Charging Session is shorter than the defined value, this TariffElement is or becomes active. After that moment, this TariffElement is no longer active.
day_of_week	array	*	Array of DayOfWeek representing which day(s) of the week this tariff element is active.
reservation	string	?	ReservationRestrictionType. When this field is present, the TariffElement describes reservation costs. A reservation starts when the reservation is made, and ends when the driver starts charging on the reserved EVSE/Location, or when the reservation expires. A reservation can only have: FLAT and TIME TariffDimensions, where TIME is for the duration of the reservation.
OCPI DayOfWeek
Refer to this type in the OCPI GitHub repository for more details.

Value	Description
MONDAY	Monday
TUESDAY	Tuesday
WEDNESDAY	Wednesday
THURSDAY	Thursday
FRIDAY	Friday
SATURDAY	Saturday
SUNDAY	Sunday
OCPI ReservationRestrictionType
Refer to this type in the OCPI GitHub repository for more details.

Value	Description
RESERVATION	Used in TariffElements to describe costs for a reservation.
RESERVATION_EXPIRES	Used in TariffElements to describe costs for a reservation that expires (as in when driver does not start a charging session before expiry_date of the reservation).
EV Charge Finder API restrictions and limits
Maximum 300 requests per minute.
The limit parameter up to a maximum of 100.
The distance parameter up to a maximum of 10 kilometers.
If you require a higher rate limit, contact us.