<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Teste Simples</title>
</head>
<body>
    <h1>Teste JavaScript Simples</h1>
    <div id="status">Aguardando...</div>
    <div id="restaurantName">Nome: Aguardando...</div>
    
    <script>
        console.log('üöÄ JavaScript carregado!');
        
        document.addEventListener('DOMContentLoaded', async () => {
            console.log('üìÖ DOMContentLoaded executado!');
            
            // Simular obten√ß√£o dos dados de inst√¢ncia
            function getInstanceData() {
                const cookies = document.cookie.split(';');
                for (let cookie of cookies) {
                    const trimmed = cookie.trim();
                    if (trimmed.startsWith('timepulse_instance_token=')) {
                        try {
                            const value = trimmed.split('=')[1];
                            const decoded = decodeURIComponent(value);
                            return JSON.parse(decoded);
                        } catch (e) {
                            console.error('Erro ao parsear cookie:', e);
                            return null;
                        }
                    }
                }
                return null;
            }
            
            const instanceData = getInstanceData();
            console.log('üîç Dados da inst√¢ncia:', instanceData);
            
            if (instanceData) {
                document.getElementById('status').textContent = 'Dados encontrados!';
                document.getElementById('restaurantName').textContent = `Nome: ${instanceData.instanceName || 'N/A'}`;
                console.log('‚úÖ Interface atualizada com sucesso!');
            } else {
                document.getElementById('status').textContent = 'Nenhum dado encontrado no cookie';
                console.log('‚ùå Nenhum dado de inst√¢ncia encontrado');
            }
        });
    </script>
</body>
</html>