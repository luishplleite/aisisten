<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerador de √çcones PWA - TimePulse AI</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="bg-gray-100 min-h-screen p-8">
    <div class="max-w-4xl mx-auto">
        <div class="bg-white rounded-2xl shadow-xl p-8">
            <div class="text-center mb-8">
                <h1 class="text-3xl font-bold text-gray-800 mb-2">Gerador de √çcones PWA</h1>
                <p class="text-gray-600">Gere todos os √≠cones necess√°rios para o TimePulse AI Driver App</p>
            </div>

            <div class="bg-gradient-to-r from-green-500 to-emerald-600 rounded-xl p-6 text-white mb-8">
                <h2 class="text-xl font-bold mb-2">üì± Instru√ß√µes</h2>
                <ol class="space-y-2 text-sm">
                    <li>1. Clique em "Gerar √çcones" abaixo</li>
                    <li>2. Baixe cada √≠cone clicando no bot√£o "Baixar"</li>
                    <li>3. Salve os arquivos na pasta <code class="bg-white bg-opacity-20 px-2 py-1 rounded">public/img/</code></li>
                    <li>4. Certifique-se de usar os nomes corretos dos arquivos</li>
                </ol>
            </div>

            <div class="text-center mb-8">
                <button onclick="generateIcons()" class="bg-gradient-to-r from-green-500 to-emerald-600 text-white px-8 py-4 rounded-lg font-bold text-lg shadow-lg hover:shadow-xl transition transform hover:scale-105">
                    <i class="fas fa-magic mr-2"></i> Gerar √çcones
                </button>
            </div>

            <div id="iconsContainer" class="grid grid-cols-2 md:grid-cols-4 gap-4 hidden">
                <!-- Icons will be generated here -->
            </div>

            <div id="preview" class="mt-8 hidden">
                <h3 class="text-lg font-bold text-gray-800 mb-4">Preview dos √çcones:</h3>
                <div class="bg-gray-50 rounded-lg p-4">
                    <canvas id="previewCanvas" class="mx-auto" style="max-width: 100%;"></canvas>
                </div>
            </div>
        </div>
    </div>

    <script>
        const iconSizes = [72, 96, 128, 144, 152, 192, 384, 512];
        
        function generateIcon(size) {
            const canvas = document.createElement('canvas');
            canvas.width = size;
            canvas.height = size;
            const ctx = canvas.getContext('2d');
            
            // Background gradient
            const gradient = ctx.createLinearGradient(0, 0, size, size);
            gradient.addColorStop(0, '#00B172');
            gradient.addColorStop(1, '#2ECC71');
            ctx.fillStyle = gradient;
            
            // Rounded rectangle
            const radius = size * 0.15;
            ctx.beginPath();
            ctx.moveTo(radius, 0);
            ctx.lineTo(size - radius, 0);
            ctx.quadraticCurveTo(size, 0, size, radius);
            ctx.lineTo(size, size - radius);
            ctx.quadraticCurveTo(size, size, size - radius, size);
            ctx.lineTo(radius, size);
            ctx.quadraticCurveTo(0, size, 0, size - radius);
            ctx.lineTo(0, radius);
            ctx.quadraticCurveTo(0, 0, radius, 0);
            ctx.closePath();
            ctx.fill();
            
            // Motorcycle icon (simplified)
            ctx.fillStyle = 'white';
            ctx.font = `bold ${size * 0.5}px Arial`;
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText('üèçÔ∏è', size / 2, size / 2);
            
            // Alternative: Draw "TP" text for compatibility
            if (size >= 128) {
                ctx.font = `bold ${size * 0.35}px Arial`;
                ctx.fillStyle = 'white';
                ctx.fillText('TP', size / 2, size / 2);
            }
            
            return canvas;
        }
        
        function downloadCanvas(canvas, filename) {
            const link = document.createElement('a');
            link.download = filename;
            link.href = canvas.toDataURL('image/png');
            link.click();
        }
        
        function generateIcons() {
            const container = document.getElementById('iconsContainer');
            const preview = document.getElementById('preview');
            container.innerHTML = '';
            container.classList.remove('hidden');
            preview.classList.remove('hidden');
            
            iconSizes.forEach(size => {
                const canvas = generateIcon(size);
                
                const iconDiv = document.createElement('div');
                iconDiv.className = 'bg-gray-50 rounded-lg p-4 text-center';
                
                const img = document.createElement('img');
                img.src = canvas.toDataURL();
                img.className = 'w-20 h-20 mx-auto mb-3 rounded-lg shadow-md';
                
                const label = document.createElement('p');
                label.className = 'text-sm font-semibold text-gray-700 mb-2';
                label.textContent = `${size}√ó${size}px`;
                
                const filename = document.createElement('p');
                filename.className = 'text-xs text-gray-500 mb-3 font-mono';
                filename.textContent = `icon-${size}x${size}.png`;
                
                const downloadBtn = document.createElement('button');
                downloadBtn.className = 'bg-green-500 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-green-600 transition';
                downloadBtn.innerHTML = '<i class="fas fa-download mr-1"></i> Baixar';
                downloadBtn.onclick = () => downloadCanvas(canvas, `icon-${size}x${size}.png`);
                
                iconDiv.appendChild(img);
                iconDiv.appendChild(label);
                iconDiv.appendChild(filename);
                iconDiv.appendChild(downloadBtn);
                container.appendChild(iconDiv);
            });
            
            // Show preview of largest icon
            const previewCanvas = document.getElementById('previewCanvas');
            const previewSize = Math.min(512, window.innerWidth - 100);
            previewCanvas.width = previewSize;
            previewCanvas.height = previewSize;
            const previewCtx = previewCanvas.getContext('2d');
            const largeIcon = generateIcon(512);
            previewCtx.drawImage(largeIcon, 0, 0, previewSize, previewSize);
        }
        
        // Show success message
        window.addEventListener('load', () => {
            console.log('‚úÖ Gerador de √çcones PWA carregado');
            console.log('üì± Clique em "Gerar √çcones" para come√ßar');
        });
    </script>
</body>
</html>
